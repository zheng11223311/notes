<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>表单的全选和取消全选</title>
	<script>

	
		</script>
	<style>
	*{
	margin:0;
	padding:0;
	}
	body{
	background:url(huanfu1.jpg) no-repeat center center;
	}
	table{
	overflow:hidden;
	margin:100px auto;
	background-color:#fff;
	width:510px;
	padding-top:3px;
	 border-collapse:collapse;//消除表格的间隙
	 
	}
	td{
	text-align:center;
	}
	table thead{
	background-color:skyblue;
	}
	.bg{
	background-color:pink;
	}
	
	</style>

</head>

<body>
	
	<table>
	<thead>
		<tr>
		<th><input type="checkbox" id="j_cbAll"/></th>
		<th>商品</th>
		<th>价钱</th>
		
		</tr>
	</thead>
	<tbody id="j_tb">
		<tr>
			<td><input type="checkbox"/></td>
			<td>iPhone8</td>
			<td>8000</td>

		</tr>
		<tr>
			<td><input type="checkbox"/></td>
			<td>iPad Pro</td>
			<td>5000</td>
		</tr>
		<tr>
			<td><input type="checkbox"/></td>
			<td>iPad Air</td>
			<td>2000</td>
		</tr>
		<tr>
			<td><input type="checkbox"/></td>
			<td>Apple Watch</td>
			<td>2000</td>
		</tr>
	</tbody>
	</table>
	

	<script>
	//获取元素
	
	var j_cbAll=document.getElementById('j_cbAll');  //全选按钮
	var j_tbs=document.getElementById('j_tb').getElementsByTagName('input');//下面所有的复选框
	//注册事件
	j_cbAll.onclick=function(){
		console.log(this.checked);//选上结果为true,未选中结果为false
		for(var i=0;i<j_tbs.length;i++){
		j_tbs[i].checked=this.checked;//把值赋予其他复选框
		}
	}
	for(var i=0;i<j_tbs.length;i++){
		j_tbs[i].onclick=function(){
		//flag 控制全选按钮是否选中
		var flag=true;
		//每次点击下面的复选框都要循环检查4个小按钮是否选中
		for(var i=0;i<j_tbs.length;i++){
		if(!j_tbs[i].checked){//某一个按钮没有被选中
			flag=false;
			break;//退出for循环,这样可以提高执行效率,因为只要一个没有选中,剩下的就无需循环了
		}
		}
		j_cbAll.checked=flag;
		}
	}
	//报错 Uncaught SyntaxError: Unexpected end of input 
	//1.缺少部分括号   指向最后一行
	//报错 Uncaught TypeError: document.getEmentById is not a function
	//关键词错误 改成getElementById 指向错误位置
	//报错 Uncaught TypeError: Cannot read property 'getEmentsByTagName' of null
	//关键词错误 改成getElementsByTagName 指向错误位置
	//报错 Uncaught TypeError: Cannot read property 'getElementsByTagName' of null
	//1.括号内 id 填写错误   指向错误位置  下方应该是 j_tb
	//不能写成 var j_tbs=document.getElementById('j_tbsb').getElementsByTagName('input');
	</script>



</body>
</html>  