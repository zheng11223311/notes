# 树和二叉树

1. 树和二叉树的定义
2. 案例引入
3. 树和二叉树的抽象数据类型定义
4. 二叉树的性质和存储结构
5. 遍历二叉树和线索二叉树
6. 树和森林
7. 哈夫曼树及其应用
8. 案例分析与实现



### 知识回顾

数据的逻辑结构

- 线性结构
  - 线性表
  - 栈(特殊线性表)
  - 队列(特殊线性表)
  - 字符串,数组,广义表
- 非线性结构
  - 树形结构
  - 图形结构



###  树形结构(非线性结构)

- 结点之间有分支
- 具有层次关系

例:

- 自然界
  - 树
- 人类社会
  - 家谱
  - 行政组织机构
- 计算机领域
  - 编译:用树表示源程序的语法结构
  - 数据库系统:用树组织信息
  - 算法分析:用树描述执行过程



### 树的定义

`树(Tree) ` 是n(n>=0) 个结点的有限集

- 若 n=0 ,则称为`空树`

- 若n>0 ,则他满足如下两个条件:

  - 有且仅有一个特定的称为`根(Root)`的结点;
  - 其余结点可分为m (m>=0) 个互不相交的`有限集 T1,T2,T3, ...Tm`,其中每一个集合本身又是一课树,并称为根的`子树(SubTree)`
  - 显然,树是一个递归的定义

  ![](D:\学习\wanye\数据结构与算法\青岛大学-王卓\img\5-1.png)







### 树的基本术语

`根结点:`非空树中无前驱结点的结点

结点的`度:`结点拥有的子树数

度!=0 `分支结点`,非终端结点,根结点以外的分支结点称为内部结点

度=0,`叶子`,终端结点

`树的度:`树内各结点的度的最大值

结点的子树的根称为该结点的孩子,该结点称为孩子的`双亲`

如果结点之间有共同的双亲,那么这些结点称为`兄弟结点`

如果结点的双亲在同一个层上,此结点

![](D:\学习\wanye\数据结构与算法\青岛大学-王卓\img\5-3.png)

![](D:\学习\wanye\数据结构与算法\青岛大学-王卓\img\5-4.png)



`有序树`:

> 树中结点的各子树从左到右有次序(最左边的为第一个孩子)不同排序方式为不同的有序树(T1,T2,T3,)与 (T3,T2,T1) 是不同的有序树

`无序树`:

> 树中结点的各子树无次序

`森林:`

> 是m (m>=0) 课互不相交的树的集合
>
> 把根结点删除,树就变成了森林
>
> 一颗树可以看成是一个特殊的森林
>
> 给森林中的各子树加上一个双亲结点,森林就变成了树



> 树 一定是 森林  , 森林 不一定是 树



![](D:\学习\wanye\数据结构与算法\青岛大学-王卓\img\5-5.png)





### 树结构和线性结构的比较

| 线性结构                         | 树结构                                  |
| -------------------------------- | --------------------------------------- |
| 第一个数据元素 (无前驱)          | 根结点(只有`一`个)  (无双亲)            |
| 最后一个数据元素 (无后继)        | 叶子结点(可以有`多`个)  (无孩子)        |
| 其他数据元素 (一个前驱,一个后继) | 其他结点---中间结点 (一个双亲,多个孩子) |
| 一对一                           | 一对多                                  |



# 二叉树的定义

### **为何要重点研究每结点最多只有两个`叉`的树?**

- 二叉树的结构最简单,规律性最强
- 可以证明,所有树都能转为唯一对应的二叉树,不失一般性



普通树(多叉树) 若不转化为二叉树,则运算很难实现



二叉树在树结构的应用中起着非常重要的作用,因为对二叉的许多操作算法简单,而任何树都可以与二叉树相互转换,这样就解决了树的存储结构及其运算中存在的复杂性



`二叉树`是n(n>=0)个结点的有限集,它或是空集(n=0),或者由一个`根结点`以及`两个互不相交`的分别称作这个根的`左子树`和`右子树`的二叉树组成

`特点:`

1. 每个结点最多有两个孩子(`二叉树中不存在度大于2 的结点`)
2. 子树有左右之分,其次序不能颠倒
3. 二叉树可以是空集合,根可以有空的左子树或空的右子树

**注:二叉树`不是`树的特殊情况,他们是两个概念**

二叉树结点的子树要区分`左子树`和`右子树`即使只有一棵树也要进行区分,说明他是左子树,还是有子树

树当结点只有一个孩子时,就`无需区分`他是左还是右的次序,因此二者是不同的,这是二叉树与树的最重要的差别

![](D:\学习\wanye\数据结构与算法\青岛大学-王卓\img\5-6.png)

(也就是二叉树每个结点位置或者说是次序都是固定的,可以是空,但是不可以说他没有位置,而树的结点位置是相对于别的结点来说,没有结点时,他就无所谓左右了)



### 思考

具有`3 个结点` 的二叉树可能`有几种不同形态`? `普通树`呢?

二叉树有五种形态:

树有两种形态:

![](D:\学习\wanye\数据结构与算法\青岛大学-王卓\img\5-7.png)



### 二叉树的5 种形态

- 空二叉树
- 根和空的左右子树
- 根和左子树
- 根和右子树
- 根和左右子树

**注:虽然二叉树与树概念不同,但有关树的基本术语对二叉树都适用**





# 案例引入:数据压缩问题

将数据文件转换成由0,1 组成的二进制串,称之为编码

- 等长编码方案
- 不等长编码方案1
- 不等长编码方式2

![](D:\学习\wanye\数据结构与算法\青岛大学-王卓\img\5-8.png)

此案例等到学过 哈夫曼树 和 哈夫曼编码 在学习



### 案例2:利用二叉树求解表达式的值

以二叉树表示表达式的递归定义如下:

1. 若表达式为数或简单变量,则相应二叉树中仅有一个根结点,其数据域存放该表达式信息
2. 若表达式为`第一个操作数 运算符 第二个操作数` 的形式,则相应的二叉树中以左子树表示第一个操作数,右子树表示第二个操作数,根结点的数据域存放运算符(若为一元运算符,则左子树为空),其中操作数本身又为表达式

![](D:\学习\wanye\数据结构与算法\青岛大学-王卓\img\5-9.png)



# 树和二叉树的抽象数据类型定义

### 二叉树的抽象数据类型定义

```c
ADT BinaryTree{
    数据对象D: D 是具有相同特性的数据元素的集合
    数据关系R:若D=空集,则R=空集;
    		若D!=空集,则R={H}; H 是如下二元关系:
    			1. root 唯一		//关于根的说明
                2.Dj n Dk=空集 	//关于子树不相交的说明
                3. ...			 //关于数据元素的说明
                4. ...			 // 关于左子树和右子树的说明
    
    基本操作P:  //至少有20 个
}ADT BinaryTree
```



- CreateBiTree(&T,definition)

  初始条件:denfinition 给出二叉树T 的定义

  操作结果:按 definition 构造二叉树T

- PreOrderTraverse(T)

  初始条件:二叉树T 存在

  操作结果:先序遍历T,对每个结点访问一次

- InOrderTraverse(T)

  初始条件:二叉树T 存在

  操作结果:中序遍历T,对每个结点访问一次

- PostOrderTraverse(T)

  初始条件:二叉树T 存在

  操作结果:后序遍历T,对每个结点访问一次



### 二叉树的性质和存储结构

- `性质1:`在二叉树的第i 层上`至多`有 2^(i-2) 个结点(i>=1)

![](D:\学习\wanye\数据结构与算法\青岛大学-王卓\img\5-10.png)

证明:采用归纳法证明此性质

**归纳基:**

当i=1 时,只有一个根结点,2^(i-1)=2^0=1 命题成立

**归纳假设:**

设对所有的 j (1<=j<=i) ,命题成立,即第j 层上至多有2^(j-1) 个结点,那么可以证明j=i 时命题也成立

**归纳证明:**

有归纳假设可知,第i-1 层上至多有2^(i-2) 个结点,由于二叉树每个结点的度最大为2,故在第i 层上最大结点数为第一层i-1 层上最大结点数的2 倍,即:2*2^(i-2)=2^(i-1) ,证毕



**提问:第i 层上至少有__ 个结点?**

> 1 个结点



- `性质2: `深度为k 的二叉树`至多`有2^k  - 1 个结点(K>=1)

证明:由性质1 可知,深度为k 的二叉树的最大结点数为:

![](D:\学习\wanye\数据结构与算法\青岛大学-王卓\img\5-11.png)

![](D:\学习\wanye\数据结构与算法\青岛大学-王卓\img\5-12.png)



**提问:深度为K 时至少有__ 个结点?**

> k