### 1.批处理基本命令

**1.命令格式**

- 命令
  - 子命令
    - 参数
      - 操作
- 命令帮助信息查看/?   或直接输入主命令查看帮助

**在cmd 窗口上方标题右键可以选择改变字体,背景等操作**

```bat
net /?      查看关于net 命令的帮助(net 到所有可操作的命令)
net 		 查看关于net 命令的帮助(net 到所有可操作的命令)
net  user /?	查看net user 的使用说明 [] 里的内容表示可选
net user /help   获得完整的帮助信息,最详细的使用说明
net /help  同上
```

```bat
net user root 123456 /add     新增用户root,密码123456, 被安全管家拦截,发现黑客新建用户
```

### 2.批处理文件传递参数

**1 .bat 文件接受参数使用%num**

```bat
net user %1 %2 /add     %1 表示替换第一个参数,%2 表示替换第二个参数
```

**index.bat**

```bat
@echo off
echo %1
echo %2
pause
```

**cmd 输入一下内容执行**

```bat
index.bat admin 123456    会被%1 替换admin   %2 替换123456,  输出admin 和123456
```

**2.注释扩展符**

- rem   remark 的简写,评论,注释不会被执行,只给程序猿看的

```bat
@evho off
rem 增加新用户
echo %1
echo %2
rem use:1.用户名 2.密码
net user %1 %2 /add
pause
```

**cmd 执行** 

```bat
type index.bat   输出脚本内容
```

### 3.酷炫命令提示符窗口

**1.颜色命令**

- color     修改背景和前景的颜色

```bat
color /?  查看有关color 的使用说明,有详细的颜色说明
color 0a     0将背景改为黑色,a前景改为淡绿色,命令不区分大小写,当前窗口有效,关闭后失效,重新打开还原
```

**2.标题命令**

- title   修改窗口的标题

```bat
title /?    使用说明
title "我的窗口" 		修改窗口标题为  "我的窗口"  显示引号
title 我的窗口          修改窗口标题为 我的窗口  不显示引号
```

### 4.时间相关的命令

**1.date**

```bat
date     显示日期信息并要求修改,crtl+c 退出
date /t   仅查看日期  2021/12/05 周日
```

**2.time**

```bat
time /?  查看时间说明 15:09
time -t   仅查看时间
```

作用:用来在指定时间执行文件

### 5.启动命令

**1.start**    开启一个新的窗口

```bat
start /?    查看启动的命令信息说明
start       直接开启一个新的窗口
start "我的"  开启一个新的带有 我的 标题的窗口
start index.bat   启动一个新的窗口并执行index.bat 文件
start /b index.bat admin 123456      不开启一个新窗口,在原窗口执行index.bat
```

start /b   隐藏窗口执行文件

### 6.调用其他bat 文件

**1.call**  调用其他bat 文件

```bat
@echo off
rem 调用index1.bat 文件   call index1.bat  admin 123456    调用且传递参数
call index1.bat
pause
```

### 7.任务列表查看命令

**1.tasklist**  该工具显示在本地或远程机器上当前运行的进程列表

```bat
tasklist   显示本地计算机的进程列表
tasklist /?   帮助信息
tasklist /s 192.168.0.105 /u admin /p 123456	连接远程计算机,显示远程进程列表  : RPC 服务器不可用。 需要自己开启,自行百度
tasklist /fi "STATUS eq UNKNOWN"   查看状态等于未知的进程,详细的使用在 /? 中查看
tasklist /fi "STATUS eq RUNNING" 	 查看状态等于正在运行的进程
tasklist /fi "PID eq 12352"			 查看PID 等于12352 的进程 
tasklist /fi "PID eq 12352"	/fo table   指定table格式查看PID 等于12352 的进程
tasklist /fi "PID eq 12352"	/fo list   指定列表格式查看PID 等于12352 的进程
tasklist /fi "PID eq 12352"	/fo csv   指定csv 格式查看PID 等于12352 的进程
tasklist /fi "PID eq 12352"	/fo csv>a.txt   指定csv 格式查看PID 等于12352 的进程,并写入到a.txt文件,注意   12352"	/fo   之间有空格,否则报错
*.txt  表示匹配所有.txt 文件
```

### 8.任务关闭命令

**1.taskkill** 使用改工具按照进程ID (PID) 或映像名称终止任务

```bat
taskkill /?    使用帮助
taskkill /im notepad.exe   关闭映像名称为notepad.exe(记事本)的进程
也可以在任务管理器中查看notepad.exe 的PID 进行关闭进程
taskkill /pid 15236 /t /f   notepad.exe 的当前PID 15236,关闭15236 进程以及其子进程,/t 表示关闭当前进程以及其子进程,/f 表示强制关闭
注意:pid 不是固定的,每次运行的都是不一样的
taskkll /s 192.168.0.105  /u admin /123456 /pid 11242 /f    强制关闭远程计算机的pid 为11242 的进程,远程关闭需要强制关闭,否则可能关闭不了
```

### 9.文件夹结构查看命令

**1.tree**

```bat
tree   输出当前目录的树形结构
tree /?   使用说明
tree /a  使用ascill 字符,而不是扩展字符,只显示到文件夹,不显示到文件名称
tree /a /f 使用ascill 字符, /f 显示到每个文件夹中文件名称
tree D:\迅雷下载 /a /f    查看其他路径的目录结构
```

### 10.关机命令

**1.shutdown**

```bat
shutdown /?     使用说明
shutdown /i   打开GUI 图形化界面操作关机,弹出对话框,在弹出对话框中的计算机中点击添加,写入(局域网内)远程地址的ip 地址(ipconfig 中查看 IPv4 地址就是ip 地址),选着重新启动,在底部注释输入内容即可
shutdown /l   注销计算机
shutdown /r 完全关闭并重启
shutdown /a 中止系统关闭,这只能在超时期间使用
shutdown /p  没有超时和警告的关闭
shutdown /h  休眠
shutdown /f  强制关闭并不事先警告用户
.......等
```

### 11.计划任务命令

**1.at(已废弃,改用schtasks.exe)**  详解在下一文件

```bat
at 22:00/every:M,T,W,TH,F,S,SU C:\abc.exe   每天定时22点执行abc.exe 文件,M,T,W,TH,F,S,SU 表示每个星期几
```

```bat
at /?  使用说明
at 21:59 "notepad.exe"     在21:59 执行notepad.exe,在后台执行,不会弹出显示
at 查看事件(包含状态id)
at 2 /delete    删除状态id 为2的事件     
```

```bat
schtasks.exe /?   使用说明 .exe  后缀一般都省略不写
schtasks /?   使用说明
```

### 12.批处理环境变量

**1.set**

```bat
set /? 使用说明
set    查看变量
echo %os%   输出变量,操作系统框架 Windows_NT
```

