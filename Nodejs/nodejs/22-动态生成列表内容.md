**1.自定义了列表循环标记**

```html
{%for {start} %}
<li>
<h4>姓名:{{item}}</h4>
</li>
{%endfor%}
```

**2.正则匹配标记**

```js
let reg=/\{\%for \{(.*?)\} \%\}(.*?)\{\%endfor\%\}/igs
```

匹配到2个组

1.第一个组时匹配出变量的key 值

2.第二个组匹配出需要生成的每一项的内容

**3.匹配替换每一项的内容**

```js
while(result=reg.exec(data)){
    let strkey =result[1].trim()
    //通过key 值获取数组内容
    let strValueArr=options[strkey]
    let listAtr=''
    strValueArr.forEach((item,i)=>{
        //替换每一项里面的变量
        listStr=listStr+replaceVar(result[2],{'item':item})
    })
    data=data.replace(result[0].listStr)
}
```

**4.通过eval() 函数,将字符串的表达式计算出来**

```js
let strValue=eval('options.'+strKey)
```

