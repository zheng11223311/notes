### 1.段的概念

**错误认识:**

内存被划分成了一个一个的段,每一个段有一个段的地址

**其实:**

内存并没有分段,段的划分来自于CPU,由于8086CPU 用 "段地址x16+偏移地址=物理地址" 的方式给出内存单元的物理地址,使得我们可以用分段的方式来管理内存,CPU 认为这是一个完整的段,而不是拆分开来的两个段

以后,在编程时可以根据需要,将若干地址连续的内存单元看作一个段,用段地址x16 定位段的起始地址(基础地址),用偏移地址定位段中的内存单元

**两点需要注意**

1. 段地址x16 必然是16 的倍数,所以一个段地址的起始地址也一定是16 的倍数
2. 偏移地址位16 位,16 位地址的寻址能力位 64k,所以一个段的长度最大为64kb,即最多也是偏移64k

- CPU 访问内存单元时,必须向内存提供内存单元的物理地址
- 8086CPU 在内部用段地址和偏移地址移位相加的方法形成最终的物理地址

**观察下面的地址,有什么发现**

| 物理地址 | 段地址 | 偏移地址 |
| -------- | ------ | -------- |
| 21F60H   | 2000H  | 1F60H    |
|          | 2100H  | 0F60H    |
|          | 21F0H  | 0060H    |
|          | 21F6H  | 0000H    |
|          | 1F00H  | 2F60H    |

**结论:CPU 可以用不同的段地址和偏移地址形成一个物理地址(动态地址)**

> 如果给定一个段地址,仅通过变化偏移地址来进行寻址,最多可以定位多少内存单元?
>
> **结论:偏移地址16 位,变化范围位0~FFFFH,仅用偏移地址来寻址最多可寻64k 个内存单元**

比如:给定段地址100H,用偏移地址寻址,CPU 的寻范围为:1000H~1FFFFH

**小结:**

- 在8086PC 机中,存储单元的地址用两个元素来描述,即段地址和偏移地址
- "数据在21F60H 内存单元中" 对于8086PC 机的两种描述:
  - 数据存在内存2000:1F60 单元中:
  - 数据存在内存的2000 段中的1F60 单元中
- 可根据需要,将地址连续,起始地址为16 的倍数一组内存单元定义为一个段

