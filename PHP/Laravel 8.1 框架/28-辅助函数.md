# 辅助函数

参考手册  [辅助函数 | 继续深入 |《Laravel 8 中文文档 8.5》| Laravel China 社区 (learnku.com)](https://learnku.com/docs/laravel/8.5/helpers/10389) 



**掌握内容**

- 掌握常用辅助函数
- 自定义辅助函数





## 简介

`Laravel` 包含各种各样的全局 `PHP` 「辅助」函数，框架本身也大量的使用了这些功能函数；如果你觉得方便，你可以在你的应用中任意使用这些函数。



**自定义辅助函数**

系统辅助函数: `vendor\laravel\framework\src\Illuminate\Foundation\helpers.php`

在控制类中输入`route()`,`ctrl+点击route()`,便会跳转到辅助函数文件

如果系统的辅助函数(为`helpers.php`,存放在内核中)不够用,可以使用自定义的辅助函数,辅助函数为`helpers.php`,可以放置任意位置,这里我们放置到`项目/app/`下

`项目/app/helpers.php`

```php
<?php
// 如果不存在test 函数
if (! function_exists('test')) {
    
    function test()
    {
        dd('test');
    }
}

?>
```



`项目/composer.json`

将自定义的辅助函数文件,自动导入

```json
    "autoload": {
        "psr-4": {  //使用 psr-4 自动导入文件夹下的文件
            "App\\": "app/",
            "Database\\Factories\\": "database/factories/",
            "Database\\Seeders\\": "database/seeders/"
        },
        "files":[		// 添加fuiles 属性,增加 "app/helpers.php"
            "app/helpers.php"
        ]
    },
```

` composer.json`  修改后都要刷新配置,刷新命令

```powershell
php composer.phar dump-autoload

#显示
#Generating optimized autoload files
#Class App\Http\Controllers\Usercontroller located in D:/学习/wanye/PHP/Laravel 8.1 框架/项目/blog/app\Http\Controllers\UserController.php does not comply with psr-4 autoloading standard. Skipping.
#> Illuminate\Foundation\ComposerScripts::postAutoloadDump
#> @php artisan package:discover --ansi
#Discovered Package: facade/ignition
#Discovered Package: fruitcake/laravel-cors
#Discovered Package: jenssegers/agent
#Discovered Package: laravel/fortify
#Discovered Package: laravel/jetstream
#Discovered Package: laravel/sail
#Discovered Package: laravel/sanctum
#Discovered Package: laravel/tinker
#Discovered Package: nesbot/carbon
#Discovered Package: nunomaduro/collision
#Package manifest generated successfully.
#Generated optimized autoload files containing 5248 classes
```



**在控制器中使用**

`项目/app/Http/Controllers/Test5Controller.php`

```php
<?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;

class Test5Controller extends Controller
{

    public function __invoke(Request $request)
    {
        test();		// 输出 test
    }
}

```



`项目/routes/web.php`

```php
<?php 
    
use App\Http\Controllers\Test5Controller;

Route::get('/test5',Test5Controller::class);
```

