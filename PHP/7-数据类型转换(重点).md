**PHP 是一门弱类型语言,八种数据类型可以转换而且不需要人工的介入**

### 1.数据类型转换的分类

1. 自动数据类型转换(隐性数据转换类型)
2. 强制数据类型转换(显示数据类型转换)

**1.自动数据类型转换**

> 不需要人工干预
>
> 发生在运算或者判断的过程中
>
> 仅限于标量
>
> 一般是向着更精确的数据进行转换
>

```php
	<?php
    $str='999';
    $int=1;
    $str1=$str+$int;    //发生了自动数据类型转换
    var_dump($str1);    //int 1000
   

?>
<?php
    $str=10;
    $int=1.2222;
    $str1=$str+$int;    //发生了自动数据类型转换
    var_dump($str1);    //float 11.2222

    
    $str=0;
    $str='0';
    if($str){
        echo '这是真的';
    }else{
        echo '这是假的';    //这是假的
    }

?>
```

**2.强制数据类型转换**

**第一种方式:语言结构方式修改变量类型**

可以转换的关键字:

1. 整型:integer int
2. 浮点型:float double
3. 字符串:string
4. 布尔值:boolean bool
5. 数组:array
6. 对象:object
7. 资源resource:无法转换
8. 空null:无法转换

```php
<?php
$var=250;
var_dump($var);
echo "<hr/>";
//强制类型转换
$newVar=(float)$var;
var_dump($newVar);   //float 250

$newVar=(string)$var;
var_dump($newVar);  //string '250' (length=3)

$newVar=(boolean)$var;
$newVar=(bool)$var;
var_dump($newVar);  //boolean true

$newVar=(double)$var;
var_dump($newVar);  //float 250

$newVar=(array)$var;
var_dump($newVar);  //array (size=1)
                        //0 => int 250
$newVar=(object)$var;
var_dump($newVar);  //object(stdClass)[1]
                //public 'scalar' => int 250

$newVar=(int)$var;
$newVar=(integer)$var;
var_dump($newVar); //int 250
//资源类型,null 类型无法转换
?>
```

**第二种方式:使用指定类型转换功能(能转换的类型较少)**

**strval():转换为字符串类型**

> 参数:需要转换的变量
>
> 返回值:返回转换后的结果
>

**intval():转换为整型**

> 参数:需要转换的变量
>
> 返回值:返回转换后的结果
>

**floatval():转换为浮点类型**

> 参数:需要转换的变量
>
> 返回值:返回转换后的结果
>
> 格式:新变量=strval(原变量)
>

```php
<?php
$var=3.14;
//使用指定功能进行数据类型转换
$result=strval($var);
var_dump($result);      //string '3.14' (length=4)

$result=intval($var);
var_dump($result);  //int 3

$result=floatval($var);
var_dump($result);  //float 3.14
?>
```

**字符串的转换规则**

1. 如果是纯数字字符串,转换后只改变类型
2. 如果是字符串以数字开头,数字后面是非数字字符串,那么将字符串最前面的连续数字字符串取出来转化为数值\
3. 注意:在数值前可以出现的符号只有(-,+)表示正负号

```php
<?php
$var='';
$result=intval($var);
var_dump($result);  //0


$var='aaa1231qqq';
$result=intval($var);
var_dump($result);  //0


$var='123qqq';
$result=intval($var);
var_dump($result);  //123


$var='+123aa';
$result=intval($var);
var_dump($result);  //123


$var='-123aa';
$result=intval($var);
var_dump($result);  //-123
?>
```

**第三种方式:使用通用类型转换功能settype()**

> 格式:返回结果变量=settype(变量,'类型')
>
> 注意:settype() 该功能改变的是原有变量,返回是否转换成功(布尔值)
>

可以转换类型的关键字:

1. int integer
2. float double
3. string
4. boolean
5. array
6. object
7. resource 不能转换
8. null

```php
<?php
    $var='学习园地';
//该功能改变的是原有变量
$result=settype($var,'int');    //int 0
$result=settype($var,'float');    //float 0
$result=settype($var,'bool');    //boolean true
$result=settype($var,'array');    //array (size=1)
                                    //0 => boolean false
$result=settype($var,'object');    //object(stdClass)[1]
                                    //public '0' => boolean false
$result=settype($var,'null');  //null
var_dump($var);
//返回是否转换成功
var_dump($result);  //true
?>
```

**什么样的值转换布尔值为false(有限制的)**

1. int 0
2. float 0.0
3. string ' '或者'0'
4. boolean false
5. array 空数组array()
6. object 都不为false
7. resource 都不为false
8. null null

```php
<?php
$var=0;
$result=(bool)$var;
var_dump($result);  //false

$var=0.0;
$result=(bool)$var;
var_dump($result);  //false

$var='';
$result=(bool)$var;
var_dump($result);  //false

$var='0';
$result=(bool)$var;
var_dump($result);  //false

$var='0.0';
$result=(bool)$var;
var_dump($result);  //true

$var=array();
$result=(bool)$var;
var_dump($result);  //false

$var=array(0);
$result=(bool)$var;
var_dump($result);  //true

class a{}
$var=new a;
$result=(bool)$var;
var_dump($result);  //true

$var=fopen('./1-php.php','r');
$result=(bool)$var;
var_dump($result);  //true

$var=null;
$result=(bool)$var;
var_dump($result);  //false
?>
```

