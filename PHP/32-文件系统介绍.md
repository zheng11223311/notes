### 1.文件相关操作

**1.什么是文件系统?**

1. 文件系统只是PHP 知识的一个完整的模块而已
2. 对所有的文件进行的任何操作都需要文件系统相关的函数
3. 学习文件系统就是学习操作文件的相关函数
   1. 创建文件
      1. touch()
      2. 参数1:文件路径及名称
      3. 参数2:可选参数 修改时间
      4. 参数3:可选参数 访问时间
      5. 返回值:成功返回true,失败返回false
   2. 移动文件,重命名
      1. rename()
      2. 参数1:旧的文件名
      3. 参数2:新的文件名
      4. 返回值:成功返回true,失败返回false
   3. 删除文件
      1. unlink()
      2. 参数1:要删除的文件
      3. 返回值:成功返回true,失败返回false
   4. 复制文件
      1. copy()
      2. 参数1:源文件路径
      3. 参数2:目标文件路径
      4. 返回值:成功返回true,失败返回false
      5. 注意:如果目标文件存在则会覆盖
   5. 重命名
      1. 同2 步骤
   6. 获取文件大小
      1. filesize()
      2. 参数1:要获取文件大小的文件路径
      3. 返回值:返回文件的大小(字节)
   7. 判断是否是文件
      1. is_file()
      2. 参数1:文件的路径
      3. 返回值:是文件返回true,不是文件返回false
   8. 判断文件或者目录是否存在
      1. file_exists()
      2. 参数1:文件或目录的路径
      3. 返回值:存在则返回true,不存在则返回false
   9. 文件是否可执行
      1. is_executable()
   10. 文件是否可读
       1. is_readable()
   11. 文件是否可写
       1. is_writable()
   12. 获取文件的创建时间
       1. filectime()
   13. 获取文件的修改时间
       1. filemtime()
   14. 获取文件上次访问时间
       1. fileatime()
   15. 简单文件加锁
       1. flock()
   16. 打开文件
       1. fopen()
       2. 参数1:要打开的文件的路径
       3. 参数2:打开文件的方式 r 只读的方式打开文件
          1. r  只读方式打开文件
          2. r+  读写方式打开文件(可以执行写入功能)
          3. w  写入方式打开文件,如果文件不存在则会创建文件,如果文件存在则会覆盖原来文件
          4. w+  读写方式打开文件,可以执行部分读取功能(一般没有效果,因为原文件被覆盖清空了),但是写都好使
          5. a  追加的方式打开文件,如果文件不存在则会创建,如果文件存在则会追加内容 
          6. a+   读写(追加)方式打开文件,可以执行部分读取功能(一般没有效果,因为原文件被覆盖清空了),但是追加都好使
          7. x  抑或方式打开文件(文件存在则报错,不存在则创建并写入内容)
          8. 增强的抑或方式,可以执行部分读取功能
       4. 返回值:成功返回资源,失败返回fasle
   17. 关闭文件
       1. fcolse()
       2. 参数1:由fopen 打开文件返回的资源
   18. 读取文件
       1. fread() 	按字节读取文件
          1. 参数1:由fopen 成功打开返回的资源
          2. 要读取的字节
          3. 返回值:返回读取到的内容,如果读取到最后则返回空字符串
       2. feof()    判断指针是否到了结尾处
          1. 参数1:由fopen 成功打开返回的资源
          2. 返回值:如果文件指针到了结尾处或者出错返回true,没到结尾处返回false
       3. fgets() 从文件指针中读取一行
          1. 参数1:由fopen 成功打开返回的资源
          2. 返回值:返回读取到的内容,如果读取到最后则返回空字符串
   19. 写入文件
       1. 
       2. 案例在下一章
   20. 其他...

```php
<?php
//创建文件
$result=touch('./a.txt');
var_dump($result);  //成功返回 true  如果不存在,则创建,如果存在则修改访问时间

// 复制文件
$result=copy('./a.txt','./b.txt');
var_dump($result);

//重命名
$result=rename('./a.txt','./c.txt');
var_dump($result);

//移动文件
$result=rename('./a.txt','../c.txt');
var_dump($result);

//删除文件
$result=unlink('../c.txt');
var_dump($result);

// 获文件大小
$result=filesize('./c.txt');
var_dump($result);  //20字节

// 判断是否是文件
$result=is_file('./c.txt');
var_dump($result);  //true

$result=is_file('../php');    //php 目录
var_dump($result);  //false
$result=is_file('./php1');   //不存在的东西
var_dump($result);  //false

//判断文件或目录是否存在
$result=file_exists('../php');   
var_dump($result);  //true

$result=file_exists('./c.txt');   
var_dump($result);  //true

// 获取文件创建时间
$result=filectime('./c.txt');   
var_dump($result);  //得到时间戳

// 获取文件修改时间
$result=filemtime('./c.txt');   
var_dump($result);

// 获取文件访问时间
$result=fileatime('./c.txt');   
var_dump($result);

// 打开文件
$result=fopen('./c.txt','r');       //r 以读打开文件
var_dump($result);  //resource(2,stream)    //2 是一个随机返回的id

//读取文件
$content=fread($result,3);       //3表示读取3个字节,中文占3个字节,最少要读3个字节,1个就显示乱码,不是完整的汉字
var_dump($content);             //返回读取到的文字
$content=fread($result,3);       //指针向下移动到下一个文字,读取下一个文字
var_dump($content);

//判断指针是否到了结尾处
$feo=feof($result);   
var_dump($feo);     //返回false,表示没有到文件结尾处

while(!feof($result)){  //不能直接使用$feo,因为这个被赋值的结果不会改变
    $content=fread($result,3);       //读取3个字节
    var_dump($content);
}

// 读取一行内容
$content=fgets($result);
var_dump($content); 

//读取全部行
while(!feof($result)){  
    $content=fgets($result);     
    var_dump($content);
}

// 关闭文件
fclose($result);  
?>
```

```php
<?php
// 读取文件 打开,读取,关闭一步到位
$file=file_get_contents('./c.txt');
echo $file;
?>
```

