### 1.自定义复制文件

```
1.判断目标位置是否是目录
2.判断目标位置是否存在 不存在则创建目录
3.打开目录
4.读取目录
	过滤 . 和 ..
	拼接完整路径 源路径
	拼接完整路径 目标路径
	判断源路径文件是目录还是文件
		如果是目录
		如果是文件
			复制文件到目标位置
5.关闭目录

```

```php
<?php
//不能复制到源文件内部
function myCopy($dirSrc,$dirTo){
    //1.判断目标文件是否是目录
    if(is_file($dirTo)){
        return;
    }
    //2.判断目标目录是否存在
    if(!file_exists($dirTo)){
        mkdir($dirTo);
    }
    //3.打开源目录进行读取
    $dir =opendir($dirSrc);
    //4.读取目录
    while($name=readdir($dir)){
        //过滤 . 和 .. 
        if($name!="." &&$name!=".."){
            //路径拼接
            $newSrc=$dirSrc."/".$name;
            //新路径
            $newTo=$dirTo."/".$name;
            if(is_dir($newSrc)){
                //如果是目录,调用自己
                myCopy($newSrc,$newTo);
            }else{
                copy($newSrc,$newTo);
            }
        }
    }
    //5.关闭目录
    closedir($dir);
}
myCopy("./xxyd","./xxyydd")
?>
```

