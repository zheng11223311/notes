### 1.函数

**1.什么是函数?**

> 函数就是一个功能
>
> is_float(),isset(),unset(),empty(),count(),mt_rand() 等等 都是函数

**2.函数的学习流程**

1. 学习函数的定义
2. 学习如何自定义函数
3. return 语句的作用
4. 函数的参数
5. 函数的变量作用域(变量的范围)
6. 引用传参
7. 静态函数
8. 变量函数
9. 回调函数
10. 递归函数
11. 内部函数
12. 闭包函数
13. 文件的包含

**3,函数的分类**

1.根据是否系统自带,系统函数和自定义函数(unset(),isset() 系统自带的 系统函数) 自己定义的自定义函数

2.根据是否具有返回值:带返回值的函数和执行过程的函数

3.根据函数结构不同:

1. 一般函数
2. 变量函数
3. 回调函数
4. 内部函数
5. 递归函数
6. 闭包函数

```php
<?php
    table();	//函数提升,可以先调用
function table($row=5,$col=8){
    echo '<table border="1" align="center" width="800">';
    for($str=0;$str<$row;$tr++){
        echo '<tr>';
        for($td=0;$td<$col;$td++){
            echo '<td>'.$tr.Std.'</td>';
        }
        echo '</tr>';
    }
    echo '</table>'
}

table();
TABLE();	//也可以调用
Table();	//也可以调用

?>
```

### 2.自定义函数的语法结构

**格式:**

```php
function 函数名(形参){
	PHP 语句(函数体)
}
```

1. 函数的姓就是function,不能省略
2. 函数名
   1. 可以使用英文,不允许使用中文
   2. 可以使用数字,但是不能用数字开头
   3. 不能使用特殊字符, _ 除外
   4. 函数名不区分大小写
   5. 函数声明要有意义
   6. 不可以和已经存在的函数(系统函数和自定义函数)重名
3. 函数的特征:
   1. 函数定义之后,不调用不执行
   2. 函数调用不分先后,因为PHP 解析器在执行这个页面代码之前就已经预先加载了函数的内容(函数内容被提前),(即函数提升,可以先写函数调用在写函数)

### 3.return 语句

1. 具有return 语句的函数就是有返回值的函数
2. 没有return 的语句就是执行过程函数
3. 作用1:如果函数中存在return 并且执行了该return 语句,那么该函数的执行结果就可以被变量接收
   1. 好处:可以继续使用该结果做运算或其他操作
4. 作用2:如果函数的执行过程中执行了return 语句,那么后续代码都不会被执行
   1. **注意:一个函数中可以有多个return 语句,但是程序只能执行一个return 语句,一般多个return 语句都是使用分支结构分开存放**
5. echo 和 return 区别
   1. 如果该函数执行的结果需要用到其他地方,那么该函数需要使用return 语句,如果不需要那么该函数可以使用echo 输出

```php
<?php
//定义一个函数 执行过程函数
function demo(){
$str='2G/3G/4G/5G 有什么区别<br/>';
$str.='区别就是:<br/>';
$str.='2G可以看我和老师.txt<br/>';
$str.='3G可以看我和老师.jpg<br/>';
$str.='4G可以看我和老师.avi<br/>';
$str.='5G可以看我和老师私奔<br/>';
}
//调用函数  函数名+()
demo()		
echo demo() 	//没有返回内容

//有返回值的函数
function demo1(){
$str='2G/3G/4G/5G 有什么区别<br/>';
$str.='区别就是:<br/>';
$str.='2G可以看我和老师.txt<br/>';
$str.='3G可以看我和老师.jpg<br/>';
$str.='4G可以看我和老师.avi<br/>';
$str.='5G可以看我和老师私奔<br/>';

return $str;
}
//打印返回的结果
echo demo1()	//$str 所有拼接后的内容

?>
```

```php
<?php
function demo1(){
echo '我会被执行'
return 123;
return '多个return 在第一个return 后都不会被执行'
echo '我不会被执行'
}
demo1()	

?>
```

### 3.函数的参数

参数分为**实参**和**形参**两部分

1. 形参就是形式上的参数,在定义函数的括号中使用
2. 实参就是实际上的参数,在调用函数的括号中使用
3. **注意:**
   1. 如果函数有定义形参,那么调用函数时必须传入对应的实参
   2. 如果函数同时具备形参的默认值,并且传入了实参,那么传进来的以实参为主(相当于变量赋值,用实参的值赋给了形参)
   3. 如果要传入实参,必须和形参的位置一一对应
   4. 如果形参中有多个形参具有默认值,将最有可能传入实参值的形参放在前面
   5. 如果函数同时具有默认值的形参和没有默认值的形参,那么没有默认值的形参一定要放到有默认值的形参前
   6. 传入的参数一定要和形参对应,免得出现逻辑错误

```php
<?php
//如果函数有定义形参,那么调用函数时必须传入对应的实参    
function a($name){	//() 内为形参
    echo $name;		//lili
}
a('lili');	//() 内为实参

//如果函数形参有默认值,实参没有传入值时   
function a($name=123){
    echo $name;		//123
}
a();


//如果函数同时具备形参的默认值,并且传入了实参,那么传进来的以实参为主
function a($name=123){
    echo $name;	//lili
}
a('lili');


//如果要传入实参,必须和形参的位置一一对应
function a($name,$pwd=123,$bsc="as"){
    echo $name;	//lili
    echo $pwd;	//jjj
    echo $bsc;	//as
}
a('lili','jjj');


?>
```

### 4.函数的作用域

**1.局部变量**

1. 在函数中定义的变量就是局部变量,其作用范围仅限函数内部	
2. 形参也是函数内部的变量,也是局部变量

**2.全局变量**

1. **普通变量**
   1. 在函数外部声明的变量,其作用范围就时当前页面部分,函数内部无法使用
2. **全局变量**
   1. 在函数的内部和外部都可以访问和使用的变量就是全局变量
   2. **实现全局变量的方法1:global 关键字**
      1. 在函数外部具有一个变量
      2. 在函数内部也具有一个同名变量
      3. 在函数内部的同名变量前使用global 关键字修饰,即可实现全局变量
      4. **注意:global 声明全局变量时禁止赋值**
   3. 如果一个变量在函数内部已经赋值,之后使用global 进行全局化声明,结果是该变量的值 变为 函数外部变量的值
   4. **实现全局变量的方法2:$GLOBALS**
      1. 在函数内部可以使用$GLOBALS[变量名] 的方式直接调用函数外部的变量值,此时函数内外部都可以使用,实现了另一种方式的全局变量

```php
<?php
function demo($str1="我也是局部变量,函数外无法访问到"){
    $str='这是局部变量,函数外部无法访问到';
}
demo();
echo $str;	//报错
echo $str1;	//报错

$str2='这是普通变量,外部定义的变量,函数内部无法访问到,外部才能使用';
function demo(){
    echo $str2;	//报错,php 函数内部无法访问到外部变量
}
demo();
echo $str2;	//这是普通变量,外部定义的变量,函数内部无法访问到,外部才能使用
?>
```

```php
<?php
//全局变量
//在函数外部定义一个变量
$str='检查一个女孩和你的关系就看他放屁的程度';
function demo(){
    //在函数内部使用global 关键字声明一个与外部同名的变量
    global $str;
    echo $str;	//检查一个女孩和你的关系就看他放屁的程度
    //尝试改变$str 的值
    $str='成就自己的只需要一套精品!'
}
echo $str;	//检查一个女孩和你的关系就看他放屁的程度
demo();	//调用函数
echo $str;	//成就自己的只需要一套精品!

echo '这是在函内部输出:'.demo();	//检查一个女孩和你的关系就看他放屁的程度 这是在函内部输出:		==>解析器解析的方向是从右到左的




//如果在局部变量内使用global 声明变量,外部无法访问到
function demo1(){
    
    $name="哈哈哈"
        //在函数内部使用global 关键字声明一个与外部不存在的变量
    global $name;
    echo $name;	//哈哈哈
}
demo1();
echo $name;		//打印为空,只有外部有这个变量才会打印出这个外部变量的值
?>
```

```php
<?php
//使用$GLOBAL 系统预定义变量实全局变量
$str='请用运气造句';
$string='我一运气,就能放屁';
$name='我就是我,看自己都上火';

function demo(){
    //获取name 值
    var_dump($GLOBALS['name']);	//我就是我,看自己都上火
    //修改name 的值
    $GLOBALS['name']='哈哈哈';
        //查看$GLOBALS
    var_dump($GLOBALS);
        
}
 demo();
echo $name;	//哈哈哈
?>
```

### 5.静态变量

在函数内部使用static 声明的变量就是静态变量

静态变量的特征:

1. 静态变量只会被初始化一次
2. 静态变量在函数运行结束后不会被回收
3. 静态变量一般用于计算函数被调用的次数

```php
<?php
//有静态变量的函数称为静态函数
function demo(){
    //静态变量
    static $a=1;	// 使得局部变量$a 不会被释放
    echo "$a.<br/>";
    $a++;
}
demo();	//1
demo();	//2
demo();	//3
demo();	//4
?>
```

### 6.引用传参

在设定函数形参时,如果在形参变量之前添加& 符号,就表示实参传递时要以引用传递的方式(变量引用赋值)将实参传递给形参

如果使用引用传参,那么函数内部的引用传参的形参值发生改变,对应外部实参变量的值也会发生改变,效果类似于全局变量

**学习系统函数主要学习三点:**

1. 函数的作用
2. 函数的参数
3. 函数的返回值

```php
<?php
//变量引用赋值
$left='红牛';
$right=&$left;
echo $left;	//红牛
echo $right;	//红牛

//修改right 的值
$right='hong';
echo $left;	//hong
echo $right;	//hong
    

//定义一个变量
$num=15;
//定义一个函数
function demo(&$no){
    $no+=5;
}
demo($num);	
echo $num;	//20


//系统函数 array_pop()	弹出数组的最后一个值,返回值为弹出的值
//array_shift()	弹出数组的第一个值,返回值为弹出的值,数值键名改为从0 开始,文字键名不变
$arr=array(1,2,3,4,5);
//调用函数
$result=array_pop($arr);	
var_dump($arr);	//[1,2,3,4]
var_dump($result);	//5


//设置类型	强制类型转换的最后一种方式
//通过通用功能进行数据类型转换
$str="1";
$result=settype($str,'int');
var_dump($reslut);	//true
var_dump($str);    //整型 1
?>
```

