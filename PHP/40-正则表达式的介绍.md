### 1.介绍正则表达式极其作用

**1.简单介绍正则表达式**

1. 正则表达式就是描述字符串排列模式的一种自定义语法规则
2. 如果可以使用字符串处理函数完成的任务,就不要使用正则表式
3. 有一些复杂行的操作,只能用正则表达式来完成
4. 正则表达式也称为一种模式表达式
5. 正则表达式就是通过构建具有特定规则的模式,在输入的字符串信息进行比较,分割,匹配,查找和替换等功能

**2.学习正则表达式可以做什么(拼音 shen me)**

1. 验证用户名长度是否合法
2. 验证邮箱规则
3. 验证手机
4. 验证URL
5. BBS 编辑器
6. QQ聊天表情
7. 新闻采集器,(小偷程序)

**3,正则表达式的几个特点**

1. 正则表达式也是一种字符串
2. 由具有特殊意义的字符组成的字符串
3. 具有一定的编写规则,也是一种模式
4. 看作是一种编程语言,因为是用一些特殊的字符,按照规则编写出字符串,形成一种模式-正则表达式
5. 如果是正则表达式不和函数一起使用,则他就是一个普通的字符串,如果将正则表达式放到某个函数中使用,才能发挥出正则表达式的作用

**4.PHP 中提供了两套正则表达式的函数库**

posix  扩展正则表达式 ereg

pcre   兼容正则表达式 preg

推荐使用兼容正则表达式

**5.学习正则表达式时,有两方面需要学习**

正则表达式的模式如何编写

学习正则表达式的强大处理函数

**6.正则表达式的语法**

1. 正则表达式定界符
2. 正则表达式中的原子
3. 正则表达式的元字符(原子修饰符)
4. 正则表达式的模式修正

**7.正则表达式的定界符**

正则表达式就是用来声明正则表达式边界的符号,正则表达式是字符串类型,所以在定义正则表达式时先定义字符串类型

正则表达式的边界符出来数字,字母,反斜线 都可以当边界符,常用的边界符是 '/'

**注意:一个完整的正则表达式准确的说有两个边界符**

第一个是字符串引号的边界符

第二个是正则表达式的边界符

```php
$parter='/ /';
$str=' ';
preg_match($parter,$str);
```

**8.正则表达式中的原子**

1. 什么是原子:组成正则表达式的最小单位就是原子

2. 原子有哪些内容组成?

   1. **正常的字母都是原子,所有可见字符都是原子**

   2. **大部分不可见字符也是原子,比如:空格,\n,\r,\t**

   3. **\d 表示数字0-9(都包括)任意一个字符,举例: $pattern='/\d/';**

   4. **\D 表示匹配除数字0-9 之外的任意一个字符**

   5. **\s 表示匹配空白字符,包括空格,\n,\r,\t**

   6. **\S 表示匹配除空白字符的任意一个字符**

   7. **\w 表示匹配数字,大小写字母,下划线中任意一个字符**

   8. **\W 表示匹配除数字,大小写字母,下划线的任意一个字符**

   9. **[ ]表示匹配[] 内任意一个字符,举例:**

      ```
      [] 为原子列表符
      $pattern='/[5671234]/' 或 $pattern='/[1-7]/'; 匹配1-7(包含1和7)内的任意一个字符
      $pattern='/[abc]/' 或[a-c]都同理
      [a-z0-9] 表示匹配a-z 和0-9 中的任意一个字符
      [0-35-8] 表示匹配0-3 或5-8 之间的数字
      ```
   
   10. **[^] 表示匹配除括号内的字符 的任意字符,举例:**
   
       ```
        [^] 为排除列表
        $pattern='/[^a-z0-9]/';	表示匹配除a-z和0-9 之外的任意一个字符
       ```

**9.元字符(原子修饰符)**

1. **?  表示 ?前面的一个字符可以出现0 次或1 次,举例:** 

   1. ```
      $pattern='/ag?a/';表示可以匹配到字符串中的 aga 或 aa
      ```

2. **+  表示 +前面的一个字符可以出现1次或无限 次,举例:** 

   1. ```
      $pattern='/ag+a/';表示可以匹配到字符串中的 aga 或 agga,aggga,,,,,,
      ```

3. \* 表示 *前面的一个字符可以出现任意(0,1,或无限) 次,举例:

   1. ```
      $pattern='/ag*a/';表示可以匹配到字符串中的aa, aga 或 agga,aggga,,,,,,
      ```

4. **{n} 表示只能匹配{n} 前面一个字符 出现n 次数,举例:**

   1. ```
      $pattern='/ag{3}a/';表示只能匹配到字符串中的aggga
      ```

5. **{n,m} 表示{n,m} 前面一个字符 出现最少n 次,最多m 次数,举例:**

   1. ```php
      $pattern='/ag{1,3}a/';表示只能匹配到字符串中的aga 或 agga,aggga
      $pattern='/[g{2,3}]/'	表示匹配到 1次	[] 内的字符只能匹配到一个
      ```
      
   
6. **{n,m} 表示{n,m} 前面一个字符 出现最少n 次,最多m 次数,举例:**

   1. ```
      $pattern='/ag{1,3}a/';表示只能匹配到字符串中的aga 或 agga,aggga
      {n,} 表示最少出现n 次,最多出现次数为无限
      {,m} 表示最少0 次,最多出现m 次
      ```

7. **^  表示匹配以^ 后面的字符开始 的字符串,举例:**

   1. ```
      $pattern='/^ag/';表示只能匹配到字符串中以ag开头的字符串
      ```

8. **$  表示匹配以$ 前面的字符结尾 的字符串,举例:**

   1. **m 模式修正符**

   2. ```
      $pattern='/ag$/';表示只能匹配到字符串中以ag结尾的字符串,例如只能匹配到aaaag 中的
      aaaag
      $pattern='/^ag$/';表示只能匹配到字符串中以ag 开头且以此ag 结尾的字符串,例如不能匹配到aaaag 中的ag,因为不是以ag 开头的
      $pattern='/^ag$/';不能匹配到aa\nag\na 中的ag,使用m 模式修正符 进行多行匹配,将aa\nag\na  视为多行中
      aa
      ag
      a
      的ag
      
      $pattern='/^ag$/m';能匹配到"aa\nag\na" 中的ag,双引号的字符,但引号不能匹配,\n单引号无法解析 
      ```

9. **| 选择修饰符 表示匹配 | 前的一个字符或则后一个字符 ,举例:**

   1. **| 选择修饰符**

   2. ​	**()  模式单元**

   3. **?: 解除 () 模式单元占用的内存,不会返回出一个括号内单独匹配到的值,使用在只匹配() 内的值,却不使用这个值,?: 解除 () 的内存,提高效率**

   4. **可以将括号的内容在函数的辅助下进行反向引用操作**

   5. ```
      $pattern='/a|g/';表示能匹配到字符串aag中a,或gc 中的c
      $pattern='/c(a|g)d/';括号提升优先级,先找a或g 是否存在,且返回多出一个括号内单独匹配到的值
      array (size=2)
        0 => string 'cad' (length=3)
        1 => string 'a' (length=1)
        
      pattern='/c(?:a|g)d/';
      解果
      array (size=2)
        0 => string 'cad' (length=3)	比之前少了一个值
      ```

**10.词边界(了解) 对中文无效**

**什么是词边界 \b**

1. 可以分割一个单词的字符都是词边界,包空格,标签符号,特殊字符,字符串的开始和结束,每一行的结束部分
2. 不可以当作词边界的部分就是数字,字母和_

```
$pattern='/\b word \b/'  匹配"hello@word","hello\nword ","word"等中的 word
```

33.非词边界\B

```
$pattern='/\B word \B/'  匹配"helloaworda","helloawordb "等中的 word
```

**实例**

```php
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <form action="1-php copy 25.php" method="post">
    <input type="text" name="str" />
    <input type="submit" value="匹配" />
    </form>
</body>
</html>
```

**1-php copy 25.php 文件**

```php
<?php
//继续匹配
$str=$_POST['str'];
// $str="a\nac\nv";
$pattern='/a|c/m';

// 调用正则匹配规则
$result=preg_match($pattern,$str,$match);

echo '匹配到的结果为:'.$result; //0 或1
echo '<hr/>';

if($result){
    echo '<font color="green" size="5">匹配成功</font>';
}else{
    echo '<font color="red" size="5">匹配失败</font>';
}
var_dump($match);   //匹配到的结果
?>
```

