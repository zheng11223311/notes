### 1.新闻采集功能实现

可以爬取数据,制作一个爬虫

```php
<?php
//1.通过要采集的地址网址打开采集页面
$url="http://www.cmstop.com/news/";
//2.打开要采集的文件
$str=file_get_contents($url);
// var_dump($str);
// echo $str; 解析后显示网址页面

//3.定义正则匹配需要的连接区域
// S 加速 s 匹配换行 \s 空格,换行
$ulpattern='/<ul\s+class=\"txt-list-a\s+lh-56\s+cor-333\s+fz-18\">.*?\s+<div\s+class=\"page-box\s+clear\s+ov\s+page\"\s+total=\"450\"\s+mintotal=\"400\"\s+page=\"1\"\s+pagesize=\"20\"\s+url=\".*?\">/Ss';
//4.进行正则匹配
preg_match($ulpattern,$str,$math);
// var_dump($math);
//5.定义匹配文章的链接地址
$patternNews='/<a\s+href=\"(.*?)\"\s+title=\".*?\"\s+class=/Ss';
//6.进行文章地址的获取
preg_match_all($patternNews,$math[0],$math_URL);
// var_dump($math_URL[1]);
//7.循环打开匹配到的链接地址
foreach ($math_URL[1] as $key => $value) {
    //8.循环打开内容页的url 地址
    $string=file_get_contents($value);
    //9.定义文章标题的正则
    $patterntitle='/<title>(?:.*?)<\/title>/Ss';
    //10.定义文章内容的正则
    $patterntcontent='/<h2\s+class=\"title\">(.*?)\s+<span\s+id=\"supports\"\s+class=\"praise\"/Ss';

    //11.匹配文章标题
    preg_match($patterntitle,$string,$title);
    //12.匹配文章内容
    preg_match($patterntcontent,$string,$content);
    var_dump($title);
    var_dump($content[1]);
    //拼接需要保存的内容
    $newStr=$title[0].$content[1];
    //13.保存匹配到的内容,需要先创建一个new 文件夹
    file_put_contents('./new/'.($key+1).'.html',$newStr);
}
?>

```

