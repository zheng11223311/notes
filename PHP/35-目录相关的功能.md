### 1.目录相关的功能

**1.目录相关操作有那些?**

1. 打开目录
   1. opendir()
   2. 参数1:要打开的目录信息
   3. 返回值:成功返回一个资源,失败返回false
2. 关闭目录
   1. closedir()
   2. 参数1:由opendir 打开目录成功返回的资源
   3. 返回值:没有返回值
3. 读取目录
   1. readdir()
   2. 参数1:由opendir 打开目录成功返回的资源
   3. 返回值:读取成功后返回读到的目录名称,读取失败或者读取到目录的最后时返回false
   4. 注意:每个目录下默认都有一个 . 和 .. 目录,读取目录时,第一次读取到 . (代表当前目录) 第二次会读取到..(代表上一级目录),每个目录中都会有这两个隐藏的目录
4. 创建目录
   1. mkdir()
   2. 参数1:路径信息(创建目录的名称)
   3. 参数2:可选参数,创建目录的权限,默认0777 最高权限
   4. 参数3:可选参数,默认是false,如果设置为true,表允许嵌套方式创建目录(多层创建)
   5. 返回值:成功返回true,失败返回fasle,如果文件存在返回false
5. 删除目录
   1. rmdir()
   2. 参数1:要删除的目录信息
   3. 返回值:成功返回true,失败返回false
   4. **注意:该函数只能删除一个空目录,如果想嵌套删除目录需要自己来定义函数**
6. 复制目录
   1. 没有函数需要自己来完成
7. 移动目录
   1. 没有函数需要自己来完成
8. 重命名目录
   1. 没有函数需要自己来完成
9. 判断是否是目录
   1. is_dir()
   2. 参数1:已存在的目录信息
   3. 返回值:存在则返回true,不存在则返回false.如果该目录不存在则返回false
10. 判断目录是否存在
    1. file_exists()
11. 统计目录大小
    1. 注意:目录没有大小,目录的大小就是里面包含文件大小的总和
12. 遍历目录(一个一个的去看)
13. 统计目录中文件个数及目录个数
14. 返回路径中的目录部分
    1. dirname()
    2. 参数1:路径信息
    3. 返回值:返回路径中的目录部分
15. 获取文件名
    1. basename()
    2. 参数1:路径信息
    3. 返回值:返回路径中的文件部分,失败返回false
16. 返回路径信息
    1. pathinfo()
    2. 参数1:路径信息
    3. 返回值:会返回一个数组,数组中包含路径信息中的路径部分,文件部分,后缀部分,以及文件名四个部分

```php
<?php
// 打开目录
$dir=opendir('./xxyd');
var_dump($dir);     //返回资源类型

// 读取目录
$name=readdir($dir);
var_dump($name);    //.
//测试.是否是目录
$r=is_dir('.');
var_dump($r);   //true

$name=readdir($dir);
var_dump($name);    //..

$name=readdir($dir);
var_dump($name);    //xs

$name=readdir($dir);
var_dump($name);    //a.txt
// cmd 下输入dir 可以看到隐藏的 .（当前） 和 ..（上一级） 目录    所以可以 cd .. 就是返回上一级目录

// 关闭目录
closedir($dir);


?>
```



```php
<?php
//创建目录 mkdir()
$result=mkdir('./xxyd');	//不可以创建多层目录,只能在有目录的目录下创建一个子目录,如果父级目录不存在,则不能创建目录
var_dump($result);  //true

$result=mkdir('./xxyd/aaa');	//xxyd 存在,可以创建aaa
var_dump($result);  //true

// 判断目录是否存在 如果不存在则创建目录
if(!file_exists('./xxyd')){
    $result=mkdir('./xxyd');
    var_dump($result);  //true
}else{
    echo '改目录已存在';
}


// 删除目录 rmdir() 该目录必须为空，且需要相应的权限
$result=rmdir('./xxyd/aaa');
var_dump($result); 

//判断是否是目录
$result=is_dir('./xxyd');
var_dump($result);  //true

$result=is_dir('../c.txt');
var_dump($result); //false

// 返回路径中的目录部分
$result=dirname('./www/php/xxyd');
var_dump($result);  //  ./www/php

// 返回路径中的文件部分
$result=basename('./www/php/xxyd');
var_dump($result);  //  xxyd
$result=basename('./www/php/xxyd/a.txt');
var_dump($result);  //  a.txt

// 返回路径信息
$result=pathinfo('./www/php/xxyd');
var_dump($result); 
// array (size=3)
//   'dirname' => string './www/php' (length=9)
//   'basename' => string 'xxyd' (length=4)
//   'filename' => string 'xxyd' (length=4)

$result=pathinfo('./www/php/xxyd/a.txt');
var_dump($result);  
// array (size=4)
//   'dirname' => string './www/php/xxyd' (length=14)
//   'basename' => string 'a.txt' (length=5)
//   'extension' => string 'txt' (length=3)
//   'filename' => string 'a' (length=1)

?>
```

**实现统计目录及文件个数**

```php
定义统计函数

//1.打开文件
//2.读取文件
while($name=readdir($dir)){
	//判断是目录还是文件 is_dir('./xxyd'.$name)	//路径一定要完整,不能直接写$name,会以为和当前执行文件一个级别上的$name,而不是xxyd 下的$name 文件(有可能执行文件和$name 不在同一文件夹下的情况)
		//如果是目录 目录数+1	//过滤.和..  $name!="."&&$name!=".."
			//获取路径,调用自己(函数)
		//如果是文件 文件数+1
}
	
//3.关闭文件
```

**实现嵌套删除目录**

```php
定义删除函数
//1.打开文件
//2.读取文件
	//判断是目录还是文件
		//如果是目录 打开目录
		//如果是文件 删除
		//文件删除完,关闭目录,删除目录,遍历下一目录
//3.关闭文件
```

**统计目录大小**

```php
定义统计大小函数
//1.打开文件
//2.读取文件
	//判断是目录还是文件
		//如果是目录 打开目录
		//如果是文件 计算文件大小
		//求出所有文件大小总和
//3.关闭文件
```

**移动目录**

```php
定义移动函数
//判断目标目录是否存在于源目录相同的目录,不存在创建目录
//判断目标目录是否存在文件,不存在移动源目录下的源文件到目标目录下
```

