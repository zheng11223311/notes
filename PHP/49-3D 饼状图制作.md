### 3D 饼状图制作

```php
<?php

//1.创建画布
$img=imagecreatetruecolor(500,500);
//2.分配颜色
$back=imagecolorallocate($img,165,170,120);
$blue=imagecolorallocate($img,0,0,255);
$blue1=imagecolorallocate($img,100,10,255);
$blue2=imagecolorallocate($img,100,180,255);
$blue3=imagecolorallocate($img,210,150,255);
$blue4=imagecolorallocate($img,270,160,255);
$blue5=imagecolorallocate($img,230,190,255);
$blue6=imagecolorallocate($img,210,50,255);
//3.绘画
imagefill($img,0,0,$back);
for ($i=265; $i >250 ; $i--) { 
    //圆心xy 圆宽高  起始角度,结束角度,产生圆形边界
imagefilledarc($img,250,$i,200,100,0,98,$blue,IMG_ARC_PIE);
imagefilledarc($img,250,$i,200,100,98,160,$blue1,IMG_ARC_PIE);
imagefilledarc($img,250,$i,200,100,160,260,$blue2,IMG_ARC_PIE);
imagefilledarc($img,250,$i,200,100,260,360,$blue3,IMG_ARC_PIE);
}
// 顶层遮罩
imagefilledarc($img,250,$i,200,100,0,98,$back,IMG_ARC_PIE);
imagefilledarc($img,250,$i,200,100,98,160,$blue4,IMG_ARC_PIE);
imagefilledarc($img,250,$i,200,100,160,260,$blue5,IMG_ARC_PIE);
imagefilledarc($img,250,$i,200,100,260,360,$blue6,IMG_ARC_PIE);

//4.告诉浏览器图片的相关信息
// 注释header 可以查看错误信息
header('Content-type:image/jpeg');
//5.输出图片到浏览器或者保存图片
imagejpeg($img);
//6.释放资源
imagedestroy($img);
    
?>

```

![Snipaste_2021-10-22_17-36-34](D:\学习\wanye\PHP\img\Snipaste_2021-10-22_17-36-34.png)

