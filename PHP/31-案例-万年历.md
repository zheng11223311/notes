### 1.万年历

```php
<?php

//实现上一年,下一年,上一月,下一月的效果

//1.求出当前年
$year=$_GET['year'] ?? date('Y');
//2.求出当前月
$month=$_GET['month'] ?? date('m');
//月份有多少天
$day=date('t');   //t 指定月份中有多少天

$w=date('w' ,mktime(0,0,0,$month,1,$year)); 









  //实现基本的万年历
  
  //1.给定本月有多少天
//   $day=date('t');   //t 指定月份中有多少天
//   exit('结束脚本'); //结束脚本的执行,并且带出一句话
//   die('结束脚本'); //结束脚本的执行,并且带出一句话,等同于exit
  //2.本月1号是星期几 0星期日   6星期六
//   $w=date('w' ,mktime(0,0,0,date('m'),1,date('Y'))); //w 星期中的第几天 mktime(0,0,0,date('m'),1,date('Y')) 本月1号的时间戳
  //3.开始循环万年历
  echo '<table border="1" align="center" width="800" >';
    echo '<caption><h3>'.$year.'年'.$month.'月</h3></caption>';
    echo "<tr>";
        echo '<th>星期日</th>';
        echo '<th>星期一</th>';
        echo '<th>星期二</th>';
        echo '<th>星期三</th>';
        echo '<th>星期四</th>';
        echo '<th>星期五</th>';
        echo '<th>星期六</th>';
    echo "</tr>";

    $num=1;
    while($num<=$day){
        echo "<tr>";
        for($i=0;$i<7;$i++){
            if($num>$day||($w>$i&&$num==1)){
                echo '<td>&nbsp;</td>';
            }else{
                echo '<td>'.$num.'</td>';
                $num++;
            }
            
        }
        echo "</tr>";
    }
    // 处理上一个月的效果
    $preMonth=$nextMonth=$month;
//处理上一个月,当月份小于等于1时,月份变为12,年减一
    if($preMonth<=1){
        if(isset($_GET['a']) && $_GET['a']=='pre'){
            $preMonth=12;
            $year-=1;
        }
        
    }else{
        $preMonth--;
    }
    //下一月
    if($nextMonth>=12){
        if(isset($_GET['a']) && $_GET['a']=='next'){
            $nextMonth=1;
            $year+=1;
        }
        
    }else{
        $nextMonth++;
    }
    echo "<tr>";
            echo '<td colspan="7" align="right">';
            echo '<a href="?year='.($year-1).'&month='.$month.'"><<上一年&nbsp;&nbsp;</a>';
            echo '<a href="?year='.$year.'&month='.$preMonth.'&a=pre"><上一月&nbsp;&nbsp;</a>';
            echo '<a href="?year='.$year.'&month='.$nextMonth.'&a=next">下一月>&nbsp;&nbsp;</a>';
            echo '<a href="?year='.($year+1).'&month='.$month.'">下一年>>&nbsp;&nbsp;</a>';
            echo "</td>";
   echo "</tr>";
echo "</table>"
    

?>

```

