### 1.MySQL 优化的方法

1. 结构优化
2. 语句优化
3. 表拆分优化
4. 主从复制
5. 中文分词
6. 其他技巧

**1.结构优化**

- 表结构设计
  - 三范式
  - 字段
  - 表拆分
  - 反三范式
- 数据库引擎
  - Myisam
  - InnoDB
  - Memory

### 2.表结构设计

**三范式**

数据库设计的基本规范

- 原子性(不可拆分)
- 唯一性(不能由完全相同的数据)
- 无冗余性(不能有多余的数据)

**字段**

字段类型

设计表的时候需要选择字段,字段选择优先级 数字>时间>字符串

- IP
  - select inet_ntoa(4294967295);	//255.255.255.255     //将数字转化为ip
  - select inet_aton('10.10.10.10' ) ;  //168430090                //将ip 转化为数字

**字段大小**

字段大小设置不要奢侈,够用即可,例如,密码char(32),和char(255) ,年龄tinyint(3),int(10)

也可以借助命令来修改表的结构

``` 
select * from aa procedure analyse()\G;   //查看表信息
```

**表拆分**

设计表的时候可以将常用字段和非常用字段拆分成两张表user 和userinfo

**反三范式**

在表结构中,通过管理一些冗余字段,可以提高表的读取速度,例如订单价格,分类商品统计,粉丝数量

**数据库引擎**

Memory 引擎是将数据存储在内存中,MySQL 重启之后数据就会丢失

InnoDB 和Myisam 区别:

- 事务: InnoDB 支持,Myisam 不支持
- 查询速度:Myisam 较快,InnoDB 相对较慢
- 全文索引:Myisam 支持,InnoDB 不支持
- 锁机制:Myisam 支持表锁,InnoDB 支持行锁
- 文件存储形式:Myisam 三个文件( .myi(存储表的索引) , .myd(存储表的数据) , .frm(存储表的结构)),InnoDB 两个文件( .frm (存储表的结构), .ibd(存储表的数据))

总结:查询较多的场景建议选择使用Myisam,需要事务支持的场景选择InnoDB