### 1.获取设备并改变屏幕状态

地址:[设备 - Device (autojs.org)](https://pro.autojs.org/docs/#/zh-cn/device?id=deviceischarging)

## [device.isCharging()](https://pro.autojs.org/docs/#/zh-cn/device?id=deviceischarging)

- {boolean}

返回设备是否正在充电。

## [device.getTotalMem()](https://pro.autojs.org/docs/#/zh-cn/device?id=devicegettotalmem)

- {number}

返回设备内存总量，单位字节(B)。1MB = 1024 * 1024B。

## [device.getAvailMem()](https://pro.autojs.org/docs/#/zh-cn/device?id=devicegetavailmem)

- {number}

返回设备当前可用的内存，单位字节(B)。

## [device.isScreenOn()](https://pro.autojs.org/docs/#/zh-cn/device?id=deviceisscreenon)

- 返回 {boolean}

返回设备屏幕是否是亮着的。如果屏幕亮着，返回`true`; 否则返回`false`。

需要注意的是，类似于vivo xplay系列的息屏时钟不属于"屏幕亮着"的情况，虽然屏幕确实亮着但只能显示时钟而且不可交互，此时`isScreenOn()`也会返回`false`。

## [device.wakeUp()](https://pro.autojs.org/docs/#/zh-cn/device?id=devicewakeup)

唤醒设备。包括唤醒设备CPU、屏幕等。可以用来点亮屏幕。

## [device.wakeUpIfNeeded()](https://pro.autojs.org/docs/#/zh-cn/device?id=devicewakeupifneeded)

如果屏幕没有点亮，则唤醒设备。

## [device.keepScreenOn([timeout\])](https://pro.autojs.org/docs/#/zh-cn/device?id=devicekeepscreenontimeout)

- `timeout` {number} 屏幕保持常亮的时间, 单位毫秒。如果不加此参数，则一直保持屏幕常亮。

保持屏幕常亮。

此函数无法阻止用户使用锁屏键等正常关闭屏幕，只能使得设备在无人操作的情况下保持屏幕常亮；同时，如果此函数调用时屏幕没有点亮，则会唤醒屏幕。

在某些设备上，如果不加参数timeout，只能在Auto.js的界面保持屏幕常亮，在其他界面会自动失效，这是因为设备的省电策略造成的。因此，建议使用比较长的时长来代替"一直保持屏幕常亮"的功能，例如`device.keepScreenOn(3600 * 1000)`。

可以使用`device.cancelKeepingAwake()`来取消屏幕常亮。

```
//一直保持屏幕常亮
device.keepScreenOn()
```

## [device.keepScreenDim([timeout\])](https://pro.autojs.org/docs/#/zh-cn/device?id=devicekeepscreendimtimeout)

- `timeout` {number} 屏幕保持常亮的时间, 单位毫秒。如果不加此参数，则一直保持屏幕常亮。

保持屏幕常亮，但允许屏幕变暗来节省电量。此函数可以用于定时脚本唤醒屏幕操作，不需要用户观看屏幕，可以让屏幕变暗来节省电量。

此函数无法阻止用户使用锁屏键等正常关闭屏幕，只能使得设备在无人操作的情况下保持屏幕常亮；同时，如果此函数调用时屏幕没有点亮，则会唤醒屏幕。

可以使用`device.cancelKeepingAwake()`来取消屏幕常亮。

## [device.cancelKeepingAwake()](https://pro.autojs.org/docs/#/zh-cn/device?id=devicecancelkeepingawake)

取消设备保持唤醒状态。用于取消`device.keepScreenOn()`, `device.keepScreenDim()`等函数设置的屏幕常亮。

## [device.vibrate(ms)](https://pro.autojs.org/docs/#/zh-cn/device?id=devicevibratems)

- `ms` {number} 震动时间，单位毫秒

使设备震动一段时间。

```
//震动两秒
device.vibrate(2000);
```

## [device.cancelVibration()](https://pro.autojs.org/docs/#/zh-cn/device?id=devicecancelvibration)

如果设备处于震动状态，则取消震动。

**示例:**

```js

// 返回设备是否正在充电。
// console.log(device.isCharging());  //false

// // 返回设备内存总量，单位字节(B)。1MB = 1024 * 1024B。
// console.log(device.getTotalMem());  //3651985408

// // 返回设备当前可用的内存，单位字节(B)。
// console.log(device.getAvailMem()); //3096928256

// // 返回设备屏幕是否是亮着的
// console.log(device.isScreenOn()); //true
// // 唤醒设备。
// device.wakeUp()
// // 如果屏幕没有点亮，则唤醒设备。
// device.wakeUpIfNeeded()
// // 屏幕保持常亮的时间, 单位毫秒 - 如果不加此参数，则一直保持屏幕常亮。
// // 保持屏幕常亮。
// device.keepScreenOn(500000)
// // 屏幕保持常亮的时间, 单位毫秒 - 如果不加此参数，则一直保持屏幕常亮。
// // 保持屏幕常亮。加节电变暗
// device.keepScreenDim()
// // 取消设备保持唤醒状态
// device.cancelKeepingAwake()
// 使设备震动一段时间。
device.vibrate(1000)
sleep(500)  //0.5s 后取消
// 如果设备处于震动状态，则取消震动。
// device.cancelVibration()


```

