(function(t){function e(e){for(var r,o,a=e[0],h=e[1],c=e[2],l=0,f=[];l<a.length;l++)o=a[l],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&f.push(n[o][0]),n[o]=0;for(r in h)Object.prototype.hasOwnProperty.call(h,r)&&(t[r]=h[r]);u&&u(e);while(f.length)f.shift()();return s.push.apply(s,c||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],r=!0,a=1;a<i.length;a++){var h=i[a];0!==n[h]&&(r=!1)}r&&(s.splice(e--,1),t=o(o.s=i[0]))}return t}var r={},n={app:0},s=[];function o(e){if(r[e])return r[e].exports;var i=r[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=r,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(i,r,function(e){return t[e]}.bind(null,r));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/WebGL/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],h=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var u=h;s.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"03ae":function(t,e,i){"use strict";var r=i("1d65"),n=i.n(r);n.a},"1d65":function(t,e,i){},"3a7a":function(t,e,i){"use strict";var r=i("7727"),n=i.n(r);n.a},"4a8c":function(t,e,i){"use strict";var r=i("8503"),n=i.n(r);n.a},"56d7":function(t,e,i){"use strict";i.r(e);i("e44b"),i("6648"),i("5f54"),i("f0e6");var r=i("0261"),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},s=[],o=(i("63ff"),i("e5af")),a={name:"app",created:function(){var t=this;window.onresize=function(){t.$store.state.width=window.innerWidth,t.$store.state.height=window.innerHeight}},mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),components:{}},h=a,c=i("5511"),u=Object(c["a"])(h,n,s,!1,null,null,null),l=u.exports,f=i("c478"),d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.width>1070,expression:"$store.state.width > 1070"}],staticStyle:{width:"300px",position:"absolute",left:"0px",top:"0px",background:"#fafafa",padding:"10px","box-sizing":"border-box","border-right":"1px solid rgba(0,0,0,0.07)",height:"100%"},attrs:{id:"map"}},[i("ebook-list")],1),i("div",{staticStyle:{overflow:"auto",background:"#ffffff",position:"absolute",top:"0px"},style:{width:(t.width>1070?t.width-300:t.width)+"px",left:(t.width>1070?300:0)+"px"},attrs:{id:"content"}},[i("div",{staticStyle:{margin:"auto",width:"770px"}},[i("ebook-content")],1)])])},p=[],m=(i("5ab2"),i("6d57"),i("e10e"),i("9d37")),x=i("08c1"),y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{background:"#fafafa"}},[i("div",{staticStyle:{cursor:"pointer",padding:"5px 2px"},attrs:{id:"bookName"},on:{click:function(e){return t.clearDocContent()}}},[t._v("\r\n      WebGL零基础入门教程(郭隆邦)\r\n    ")]),i("div",{staticStyle:{"margin-top":"15px","margin-bottom":"15px",transform:"scaleY(0.5)",height:"1px",background:"rgb(204, 204, 204)",width:"100%"}}),i("el-input",{staticClass:"input-with-select",attrs:{placeholder:"WebGL零基础入门教程全文检索"},on:{input:function(e){t.findText(t.inputSearch),t.keywordFun()}},model:{value:t.inputSearch,callback:function(e){t.inputSearch=e},expression:"inputSearch"}},[i("i",{staticClass:"el-icon-close el-input__icon",staticStyle:{cursor:"pointer"},attrs:{slot:"suffix"},on:{click:function(e){t.clearInputSearch(),t.clearInput()}},slot:"suffix"})]),i("div",{staticStyle:{"margin-top":"15px","margin-bottom":"15px",transform:"scaleY(0.5)",height:"1px",background:"rgb(204, 204, 204)",width:"100%"}}),t.docArr.length?i("el-menu",{staticClass:"docArr",staticStyle:{"border-right":"solid 1px #fff",background:"#fafafa",width:"280px",overflow:"auto"},style:{height:t.$store.state.height-150+"px"},attrs:{id:"menu","default-active":"0",mode:"vertical"}},t._l(t.docArr,(function(e,r){return t.docArr.length?i("el-menu-item",{attrs:{index:r+""},on:{click:function(i){t.chooseDoc({docId:e._id}),t.keywordFun()}}},[t._v("\r\n      "+t._s(e.listNodeName)+"\r\n      ")]):t._e()})),1):t._e(),!t.inputSearch&&t.ebookList?i("el-tree",{ref:"list",staticStyle:{width:"280px",background:"#fafafa",overflow:"auto"},style:{height:t.$store.state.height-150+"px"},attrs:{id:"list",data:t.ebookList,"node-key":"docId","highlight-current":!0,"default-expand-all":!0,"expand-on-click-node":!1},on:{"node-click":t.chooseDoc}}):t._e()],1)},v=[];i("c0c3");function g(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function b(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?g(Object(i),!0).forEach((function(e){Object(m["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var w={data:function(){return{inputSearch:""}},methods:b({},Object(x["b"])(["chooseDoc","clearDocContent","init","findText","clearInput"]),{clearInputSearch:function(){this.inputSearch=""},keywordFun:function(){var t=this;setTimeout((function(){t.search||t.$refs.list.setCurrentKey(t.curDocId)}),300)}}),computed:b({},Object(x["c"])(["curDocId","width","ebookList","ebookId","docContent","search","docArr"])),components:{},created:function(){this.init().then((function(t){}))},mounted:function(){},watch:{}},_=w,M=(i("4a8c"),Object(c["a"])(_,y,v,!1,null,"3f18ad1c",null)),z=M.exports,O=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{style:{height:t.$store.state.height+"px"}},[i("div",{staticStyle:{width:"770px"}},[t.ebookId&&!t.docContent?i("ebook-cover",{staticStyle:{"margin-left":"85px","margin-top":"3px"}}):t._e()],1),i("div",{staticStyle:{"box-sizing":"border-box"},attrs:{id:"doc"},domProps:{innerHTML:t._s(t.docContent)}}),i("div",{staticStyle:{"-webkit-transform":"scaleY(.5)",height:"1px",background:"#cccccc",width:"100%"}}),t._m(0)])},j=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{"font-size":"12px",padding:"20px",color:"#808080"}},[i("span",{staticStyle:{"margin-left":"160px"}},[t._v("未经允许不得随意转载")]),i("span",{staticStyle:{"margin-left":"20px"}},[t._v("作者博客：http://www.yanhuangxueyuan.com/")])])}],E=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},k=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticStyle:{width:"600px",height:"800px","margin-top":"0px","margin-left":"0px"},attrs:{id:"cover"}},[r("div",{staticStyle:{position:"relative"}},[r("div",{staticClass:"doc",staticStyle:{top:"100px",left:"45px",width:"510px"},attrs:{id:"doc1"}},[r("a",{staticStyle:{"margin-left":"5px"},attrs:{href:"http://www.webgl3d.cn/Three.js/index.html",target:"_blank"}},[r("span",{staticStyle:{color:"#fff","font-size":"55px",padding:"10px 20px"}},[t._v("WebGL零基础入门")])])]),r("div",{staticClass:"doc",staticStyle:{left:"240px",top:"705px",width:"350px"},attrs:{id:"doc2"}},[r("a",{attrs:{href:"http://www.yanhuangxueyuan.com/",target:"_blank"}},[r("span",{staticStyle:{"font-size":"15px",color:"#fff",padding:"10px 20px"}},[t._v("作者：郭隆邦")])]),r("br"),r("span",{staticStyle:{"font-size":"15px",color:"#fff",padding:"10px 20px"}},[t._v("\r\n        博客：http://www.yanhuangxueyuan.com/\r\n      ")]),r("div",{staticStyle:{position:"absolute",bottom:"48px",right:"40px"}},[r("a",{attrs:{href:"https://www.zhihu.com/people/guo-long-bang-11/activities",target:"_blank"}},[r("img",{attrs:{src:i("84ed"),alt:"",width:"20",height:"20"}})]),t._v(" \r\n        ")])]),r("div",{staticStyle:{background:"#000",position:"absolute",left:"0px",top:"0px"}},[r("canvas",{attrs:{id:"webgl",width:"600",height:"800"}})])]),r("script",{attrs:{id:"vertexShader",type:"x-shader/x-vertex"}},[t._v("\r\n    attribute vec4 position;\r\n\r\n  attribute float scale;\r\n\r\n\r\n  uniform mat4 modelViewMatrix;//\r\n  uniform mat4 projectionMatrix;//\r\n  void main() {\r\n  vec4 mvPosition = modelViewMatrix * position;\r\n\r\n  gl_PointSize = scale*1.0 * ( 200.0 / - mvPosition.z );\r\n\r\n  gl_Position = projectionMatrix * mvPosition;\r\n\r\n  }\r\n  ")]),r("script",{attrs:{id:"fragmentShader",type:"x-shader/x-fragment"}},[t._v("\r\n    void main() {\r\n      if ( length( gl_PointCoord - vec2( 0.5, 0.5 ) ) > 0.49 ) discard;\r\n      gl_FragColor = vec4(0.0,1.0,1.0,1.0);\r\n  }\r\n  ")])])}],S=(i("435b"),i("cc57"),i("4fd7"),i("163d"),i("add6"),i("2b45"),i("2af8"));function A(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function C(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?A(Object(i),!0).forEach((function(e){Object(m["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):A(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}(function(e,r){"object"===("undefined"===typeof exports?"undefined":Object(S["a"])(exports))&&"undefined"!==typeof t?r(exports):"function"===typeof define&&i("45cb")?define(["exports"],r):(e=e||self,r(e.THREE={}))})(void 0,(function(t){var e={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var t=[],e=0;e<256;e++)t[e]=(e<16?"0":"")+e.toString(16);return function(){var e=4294967295*Math.random()|0,i=4294967295*Math.random()|0,r=4294967295*Math.random()|0,n=4294967295*Math.random()|0,s=t[255&e]+t[e>>8&255]+t[e>>16&255]+t[e>>24&255]+"-"+t[255&i]+t[i>>8&255]+"-"+t[i>>16&15|64]+t[i>>24&255]+"-"+t[63&r|128]+t[r>>8&255]+"-"+t[r>>16&255]+t[r>>24&255]+t[255&n]+t[n>>8&255]+t[n>>16&255]+t[n>>24&255];return s.toUpperCase()}}(),clamp:function(t,e,i){return Math.max(e,Math.min(i,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,i,r,n){return r+(t-e)*(n-r)/(i-e)},lerp:function(t,e,i){return(1-i)*t+i*e},smoothstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e),t*t*(3-2*t))},smootherstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e),t*t*t*(t*(6*t-15)+10))},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*e.DEG2RAD},radToDeg:function(t){return t*e.RAD2DEG},isPowerOfTwo:function(t){return 0===(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}};function i(t,e,i,r){this._x=t||0,this._y=e||0,this._z=i||0,this._w=void 0!==r?r:1}function r(t,e,i){this.x=t||0,this.y=e||0,this.z=i||0}function n(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function s(){}function o(t,e,i,r){this._x=t||0,this._y=e||0,this._z=i||0,this._order=r||o.DefaultOrder}function a(){this.mask=1}function h(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.assign(i,{slerp:function(t,e,i,r){return i.copy(t).slerp(e,r)},slerpFlat:function(t,e,i,r,n,s,o){var a=i[r+0],h=i[r+1],c=i[r+2],u=i[r+3],l=n[s+0],f=n[s+1],d=n[s+2],p=n[s+3];if(u!==p||a!==l||h!==f||c!==d){var m=1-o,x=a*l+h*f+c*d+u*p,y=x>=0?1:-1,v=1-x*x;if(v>Number.EPSILON){var g=Math.sqrt(v),b=Math.atan2(g,x*y);m=Math.sin(m*b)/g,o=Math.sin(o*b)/g}var w=o*y;if(a=a*m+l*w,h=h*m+f*w,c=c*m+d*w,u=u*m+p*w,m===1-o){var _=1/Math.sqrt(a*a+h*h+c*c+u*u);a*=_,h*=_,c*=_,u*=_}}t[e]=a,t[e+1]=h,t[e+2]=c,t[e+3]=u}}),Object.defineProperties(i.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(t){this._w=t,this.onChangeCallback()}}}),Object.assign(i.prototype,{isQuaternion:!0,set:function(t,e,i,r){return this._x=t,this._y=e,this._z=i,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var i=t._x,r=t._y,n=t._z,s=t.order,o=Math.cos,a=Math.sin,h=o(i/2),c=o(r/2),u=o(n/2),l=a(i/2),f=a(r/2),d=a(n/2);return"XYZ"===s?(this._x=l*c*u+h*f*d,this._y=h*f*u-l*c*d,this._z=h*c*d+l*f*u,this._w=h*c*u-l*f*d):"YXZ"===s?(this._x=l*c*u+h*f*d,this._y=h*f*u-l*c*d,this._z=h*c*d-l*f*u,this._w=h*c*u+l*f*d):"ZXY"===s?(this._x=l*c*u-h*f*d,this._y=h*f*u+l*c*d,this._z=h*c*d+l*f*u,this._w=h*c*u-l*f*d):"ZYX"===s?(this._x=l*c*u-h*f*d,this._y=h*f*u+l*c*d,this._z=h*c*d-l*f*u,this._w=h*c*u+l*f*d):"YZX"===s?(this._x=l*c*u+h*f*d,this._y=h*f*u+l*c*d,this._z=h*c*d-l*f*u,this._w=h*c*u-l*f*d):"XZY"===s&&(this._x=l*c*u-h*f*d,this._y=h*f*u-l*c*d,this._z=h*c*d+l*f*u,this._w=h*c*u+l*f*d),!1!==e&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var i=e/2,r=Math.sin(i);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(i),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,i=t.elements,r=i[0],n=i[4],s=i[8],o=i[1],a=i[5],h=i[9],c=i[2],u=i[6],l=i[10],f=r+a+l;return f>0?(e=.5/Math.sqrt(f+1),this._w=.25/e,this._x=(u-h)*e,this._y=(s-c)*e,this._z=(o-n)*e):r>a&&r>l?(e=2*Math.sqrt(1+r-a-l),this._w=(u-h)/e,this._x=.25*e,this._y=(n+o)/e,this._z=(s+c)/e):a>l?(e=2*Math.sqrt(1+a-r-l),this._w=(s-c)/e,this._x=(n+o)/e,this._y=.25*e,this._z=(h+u)/e):(e=2*Math.sqrt(1+l-r-a),this._w=(o-n)/e,this._x=(s+c)/e,this._y=(h+u)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(){var t,e=new r,i=1e-6;return function(n,s){return void 0===e&&(e=new r),t=n.dot(s)+1,t<i?(t=0,Math.abs(n.x)>Math.abs(n.z)?e.set(-n.y,n.x,0):e.set(0,-n.z,n.y)):e.crossVectors(n,s),this._x=e.x,this._y=e.y,this._z=e.z,this._w=t,this.normalize()}}(),angleTo:function(t){return 2*Math.acos(Math.abs(e.clamp(this.dot(t),-1,1)))},rotateTowards:function(t,e){var i=this.angleTo(t);if(0===i)return this;var r=Math.min(1,e/i);return this.slerp(t,r),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var i=t._x,r=t._y,n=t._z,s=t._w,o=e._x,a=e._y,h=e._z,c=e._w;return this._x=i*c+s*o+r*h-n*a,this._y=r*c+s*a+n*o-i*h,this._z=n*c+s*h+i*a-r*o,this._w=s*c-i*o-r*a-n*h,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var i=this._x,r=this._y,n=this._z,s=this._w,o=s*t._w+i*t._x+r*t._y+n*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=s,this._x=i,this._y=r,this._z=n,this;var a=1-o*o;if(a<=Number.EPSILON){var h=1-e;return this._w=h*s+e*this._w,this._x=h*i+e*this._x,this._y=h*r+e*this._y,this._z=h*n+e*this._z,this.normalize()}var c=Math.sqrt(a),u=Math.atan2(c,o),l=Math.sin((1-e)*u)/c,f=Math.sin(e*u)/c;return this._w=s*l+this._w*f,this._x=i*l+this._x*f,this._y=r*l+this._y*f,this._z=n*l+this._z*f,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),Object.assign(r.prototype,{isVector3:!0,set:function(t,e,i){return this.x=t,this.y=e,this.z=i,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(){var t=new i;return function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(t.setFromEuler(e))}}(),applyAxisAngle:function(){var t=new i;return function(e,i){return this.applyQuaternion(t.setFromAxisAngle(e,i))}}(),applyMatrix3:function(t){var e=this.x,i=this.y,r=this.z,n=t.elements;return this.x=n[0]*e+n[3]*i+n[6]*r,this.y=n[1]*e+n[4]*i+n[7]*r,this.z=n[2]*e+n[5]*i+n[8]*r,this},applyMatrix4:function(t){var e=this.x,i=this.y,r=this.z,n=t.elements,s=1/(n[3]*e+n[7]*i+n[11]*r+n[15]);return this.x=(n[0]*e+n[4]*i+n[8]*r+n[12])*s,this.y=(n[1]*e+n[5]*i+n[9]*r+n[13])*s,this.z=(n[2]*e+n[6]*i+n[10]*r+n[14])*s,this},applyQuaternion:function(t){var e=this.x,i=this.y,r=this.z,n=t.x,s=t.y,o=t.z,a=t.w,h=a*e+s*r-o*i,c=a*i+o*e-n*r,u=a*r+n*i-s*e,l=-n*e-s*i-o*r;return this.x=h*a+l*-n+c*-o-u*-s,this.y=c*a+l*-s+u*-n-h*-o,this.z=u*a+l*-o+h*-s-c*-n,this},project:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)},unproject:function(){var t=new n;return function(e){return this.applyMatrix4(t.getInverse(e.projectionMatrix)).applyMatrix4(e.matrixWorld)}}(),transformDirection:function(t){var e=this.x,i=this.y,r=this.z,n=t.elements;return this.x=n[0]*e+n[4]*i+n[8]*r,this.y=n[1]*e+n[5]*i+n[9]*r,this.z=n[2]*e+n[6]*i+n[10]*r,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(){var t=new r,e=new r;return function(i,r){return t.set(i,i,i),e.set(r,r,r),this.clamp(t,e)}}(),clampLength:function(t,e){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},cross:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)},crossVectors:function(t,e){var i=t.x,r=t.y,n=t.z,s=e.x,o=e.y,a=e.z;return this.x=r*a-n*o,this.y=n*s-i*a,this.z=i*o-r*s,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:function(){var t=new r;return function(e){return t.copy(this).projectOnVector(e),this.sub(t)}}(),reflect:function(){var t=new r;return function(e){return this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var i=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(e.clamp(i,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,i=this.y-t.y,r=this.z-t.z;return e*e+i*i+r*r},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)},setFromSphericalCoords:function(t,e,i){var r=Math.sin(e)*t;return this.x=r*Math.sin(i),this.y=Math.cos(e)*t,this.z=r*Math.cos(i),this},setFromCylindrical:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)},setFromCylindricalCoords:function(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this},setFromMatrixPosition:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=r,this},setFromMatrixColumn:function(t,e){return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,i){return void 0!==i&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}}),Object.assign(n.prototype,{isMatrix4:!0,set:function(t,e,i,r,n,s,o,a,h,c,u,l,f,d,p,m){var x=this.elements;return x[0]=t,x[4]=e,x[8]=i,x[12]=r,x[1]=n,x[5]=s,x[9]=o,x[13]=a,x[2]=h,x[6]=c,x[10]=u,x[14]=l,x[3]=f,x[7]=d,x[11]=p,x[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new n).fromArray(this.elements)},copy:function(t){var e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this},copyPosition:function(t){var e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this},extractBasis:function(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this},extractRotation:function(){var t=new r;return function(e){var i=this.elements,r=e.elements,n=1/t.setFromMatrixColumn(e,0).length(),s=1/t.setFromMatrixColumn(e,1).length(),o=1/t.setFromMatrixColumn(e,2).length();return i[0]=r[0]*n,i[1]=r[1]*n,i[2]=r[2]*n,i[3]=0,i[4]=r[4]*s,i[5]=r[5]*s,i[6]=r[6]*s,i[7]=0,i[8]=r[8]*o,i[9]=r[9]*o,i[10]=r[10]*o,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this}}(),makeRotationFromEuler:function(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,i=t.x,r=t.y,n=t.z,s=Math.cos(i),o=Math.sin(i),a=Math.cos(r),h=Math.sin(r),c=Math.cos(n),u=Math.sin(n);if("XYZ"===t.order){var l=s*c,f=s*u,d=o*c,p=o*u;e[0]=a*c,e[4]=-a*u,e[8]=h,e[1]=f+d*h,e[5]=l-p*h,e[9]=-o*a,e[2]=p-l*h,e[6]=d+f*h,e[10]=s*a}else if("YXZ"===t.order){var m=a*c,x=a*u,y=h*c,v=h*u;e[0]=m+v*o,e[4]=y*o-x,e[8]=s*h,e[1]=s*u,e[5]=s*c,e[9]=-o,e[2]=x*o-y,e[6]=v+m*o,e[10]=s*a}else if("ZXY"===t.order){m=a*c,x=a*u,y=h*c,v=h*u;e[0]=m-v*o,e[4]=-s*u,e[8]=y+x*o,e[1]=x+y*o,e[5]=s*c,e[9]=v-m*o,e[2]=-s*h,e[6]=o,e[10]=s*a}else if("ZYX"===t.order){l=s*c,f=s*u,d=o*c,p=o*u;e[0]=a*c,e[4]=d*h-f,e[8]=l*h+p,e[1]=a*u,e[5]=p*h+l,e[9]=f*h-d,e[2]=-h,e[6]=o*a,e[10]=s*a}else if("YZX"===t.order){var g=s*a,b=s*h,w=o*a,_=o*h;e[0]=a*c,e[4]=_-g*u,e[8]=w*u+b,e[1]=u,e[5]=s*c,e[9]=-o*c,e[2]=-h*c,e[6]=b*u+w,e[10]=g-_*u}else if("XZY"===t.order){g=s*a,b=s*h,w=o*a,_=o*h;e[0]=a*c,e[4]=-u,e[8]=h*c,e[1]=g*u+_,e[5]=s*c,e[9]=b*u-w,e[2]=w*u-b,e[6]=o*c,e[10]=_*u+g}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(){var t=new r(0,0,0),e=new r(1,1,1);return function(i){return this.compose(t,i,e)}}(),lookAt:function(){var t=new r,e=new r,i=new r;return function(r,n,s){var o=this.elements;return i.subVectors(r,n),0===i.lengthSq()&&(i.z=1),i.normalize(),t.crossVectors(s,i),0===t.lengthSq()&&(1===Math.abs(s.z)?i.x+=1e-4:i.z+=1e-4,i.normalize(),t.crossVectors(s,i)),t.normalize(),e.crossVectors(i,t),o[0]=t.x,o[4]=e.x,o[8]=i.x,o[1]=t.y,o[5]=e.y,o[9]=i.y,o[2]=t.z,o[6]=e.z,o[10]=i.z,this}}(),multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var i=t.elements,r=e.elements,n=this.elements,s=i[0],o=i[4],a=i[8],h=i[12],c=i[1],u=i[5],l=i[9],f=i[13],d=i[2],p=i[6],m=i[10],x=i[14],y=i[3],v=i[7],g=i[11],b=i[15],w=r[0],_=r[4],M=r[8],z=r[12],O=r[1],j=r[5],E=r[9],k=r[13],S=r[2],A=r[6],C=r[10],R=r[14],D=r[3],F=r[7],P=r[11],T=r[15];return n[0]=s*w+o*O+a*S+h*D,n[4]=s*_+o*j+a*A+h*F,n[8]=s*M+o*E+a*C+h*P,n[12]=s*z+o*k+a*R+h*T,n[1]=c*w+u*O+l*S+f*D,n[5]=c*_+u*j+l*A+f*F,n[9]=c*M+u*E+l*C+f*P,n[13]=c*z+u*k+l*R+f*T,n[2]=d*w+p*O+m*S+x*D,n[6]=d*_+p*j+m*A+x*F,n[10]=d*M+p*E+m*C+x*P,n[14]=d*z+p*k+m*R+x*T,n[3]=y*w+v*O+g*S+b*D,n[7]=y*_+v*j+g*A+b*F,n[11]=y*M+v*E+g*C+b*P,n[15]=y*z+v*k+g*R+b*T,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToBufferAttribute:function(){var t=new r;return function(e){for(var i=0,r=e.count;i<r;i++)t.x=e.getX(i),t.y=e.getY(i),t.z=e.getZ(i),t.applyMatrix4(this),e.setXYZ(i,t.x,t.y,t.z);return e}}(),determinant:function(){var t=this.elements,e=t[0],i=t[4],r=t[8],n=t[12],s=t[1],o=t[5],a=t[9],h=t[13],c=t[2],u=t[6],l=t[10],f=t[14],d=t[3],p=t[7],m=t[11],x=t[15];return d*(+n*a*u-r*h*u-n*o*l+i*h*l+r*o*f-i*a*f)+p*(+e*a*f-e*h*l+n*s*l-r*s*f+r*h*c-n*a*c)+m*(+e*h*u-e*o*f-n*s*u+i*s*f+n*o*c-i*h*c)+x*(-r*o*c-e*a*u+e*o*l+r*s*u-i*s*l+i*a*c)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var i=this.elements,r=t.elements,n=r[0],s=r[1],o=r[2],a=r[3],h=r[4],c=r[5],u=r[6],l=r[7],f=r[8],d=r[9],p=r[10],m=r[11],x=r[12],y=r[13],v=r[14],g=r[15],b=d*v*l-y*p*l+y*u*m-c*v*m-d*u*g+c*p*g,w=x*p*l-f*v*l-x*u*m+h*v*m+f*u*g-h*p*g,_=f*y*l-x*d*l+x*c*m-h*y*m-f*c*g+h*d*g,M=x*d*u-f*y*u-x*c*p+h*y*p+f*c*v-h*d*v,z=n*b+s*w+o*_+a*M;if(0===z){var O="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(O);return console.warn(O),this.identity()}var j=1/z;return i[0]=b*j,i[1]=(y*p*a-d*v*a-y*o*m+s*v*m+d*o*g-s*p*g)*j,i[2]=(c*v*a-y*u*a+y*o*l-s*v*l-c*o*g+s*u*g)*j,i[3]=(d*u*a-c*p*a-d*o*l+s*p*l+c*o*m-s*u*m)*j,i[4]=w*j,i[5]=(f*v*a-x*p*a+x*o*m-n*v*m-f*o*g+n*p*g)*j,i[6]=(x*u*a-h*v*a-x*o*l+n*v*l+h*o*g-n*u*g)*j,i[7]=(h*p*a-f*u*a+f*o*l-n*p*l-h*o*m+n*u*m)*j,i[8]=_*j,i[9]=(x*d*a-f*y*a-x*s*m+n*y*m+f*s*g-n*d*g)*j,i[10]=(h*y*a-x*c*a+x*s*l-n*y*l-h*s*g+n*c*g)*j,i[11]=(f*c*a-h*d*a-f*s*l+n*d*l+h*s*m-n*c*m)*j,i[12]=M*j,i[13]=(f*y*o-x*d*o+x*s*p-n*y*p-f*s*v+n*d*v)*j,i[14]=(x*c*o-h*y*o-x*s*u+n*y*u+h*s*v-n*c*v)*j,i[15]=(h*d*o-f*c*o+f*s*u-n*d*u-h*s*p+n*c*p)*j,this},scale:function(t){var e=this.elements,i=t.x,r=t.y,n=t.z;return e[0]*=i,e[4]*=r,e[8]*=n,e[1]*=i,e[5]*=r,e[9]*=n,e[2]*=i,e[6]*=r,e[10]*=n,e[3]*=i,e[7]*=r,e[11]*=n,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,r))},makeTranslation:function(t,e,i){return this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var i=Math.cos(e),r=Math.sin(e),n=1-i,s=t.x,o=t.y,a=t.z,h=n*s,c=n*o;return this.set(h*s+i,h*o-r*a,h*a+r*o,0,h*o+r*a,c*o+i,c*a-r*s,0,h*a-r*o,c*a+r*s,n*a*a+i,0,0,0,0,1),this},makeScale:function(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this},makeShear:function(t,e,i){return this.set(1,e,i,0,t,1,i,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,i){var r=this.elements,n=e._x,s=e._y,o=e._z,a=e._w,h=n+n,c=s+s,u=o+o,l=n*h,f=n*c,d=n*u,p=s*c,m=s*u,x=o*u,y=a*h,v=a*c,g=a*u,b=i.x,w=i.y,_=i.z;return r[0]=(1-(p+x))*b,r[1]=(f+g)*b,r[2]=(d-v)*b,r[3]=0,r[4]=(f-g)*w,r[5]=(1-(l+x))*w,r[6]=(m+y)*w,r[7]=0,r[8]=(d+v)*_,r[9]=(m-y)*_,r[10]=(1-(l+p))*_,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this},decompose:function(){var t=new r,e=new n;return function(i,r,n){var s=this.elements,o=t.set(s[0],s[1],s[2]).length(),a=t.set(s[4],s[5],s[6]).length(),h=t.set(s[8],s[9],s[10]).length(),c=this.determinant();c<0&&(o=-o),i.x=s[12],i.y=s[13],i.z=s[14],e.copy(this);var u=1/o,l=1/a,f=1/h;return e.elements[0]*=u,e.elements[1]*=u,e.elements[2]*=u,e.elements[4]*=l,e.elements[5]*=l,e.elements[6]*=l,e.elements[8]*=f,e.elements[9]*=f,e.elements[10]*=f,r.setFromRotationMatrix(e),n.x=o,n.y=a,n.z=h,this}}(),makePerspective:function(t,e,i,r,n,s){void 0===s&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,a=2*n/(e-t),h=2*n/(i-r),c=(e+t)/(e-t),u=(i+r)/(i-r),l=-(s+n)/(s-n),f=-2*s*n/(s-n);return o[0]=a,o[4]=0,o[8]=c,o[12]=0,o[1]=0,o[5]=h,o[9]=u,o[13]=0,o[2]=0,o[6]=0,o[10]=l,o[14]=f,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makeOrthographic:function(t,e,i,r,n,s){var o=this.elements,a=1/(e-t),h=1/(i-r),c=1/(s-n),u=(e+t)*a,l=(i+r)*h,f=(s+n)*c;return o[0]=2*a,o[4]=0,o[8]=0,o[12]=-u,o[1]=0,o[5]=2*h,o[9]=0,o[13]=-l,o[2]=0,o[6]=0,o[10]=-2*c,o[14]=-f,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(t){for(var e=this.elements,i=t.elements,r=0;r<16;r++)if(e[r]!==i[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var i=0;i<16;i++)this.elements[i]=t[i+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}}),Object.assign(s.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var i=this._listeners;void 0===i[t]&&(i[t]=[]),-1===i[t].indexOf(e)&&i[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var i=this._listeners;return void 0!==i[t]&&-1!==i[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var i=this._listeners,r=i[t];if(void 0!==r){var n=r.indexOf(e);-1!==n&&r.splice(n,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners,i=e[t.type];if(void 0!==i){t.target=this;for(var r=i.slice(0),n=0,s=r.length;n<s;n++)r[n].call(this,t)}}}}),o.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],o.DefaultOrder="XYZ",Object.defineProperties(o.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(t){this._order=t,this.onChangeCallback()}}}),Object.assign(o.prototype,{isEuler:!0,set:function(t,e,i,r){return this._x=t,this._y=e,this._z=i,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,i,r){var n=e.clamp,s=t.elements,o=s[0],a=s[4],h=s[8],c=s[1],u=s[5],l=s[9],f=s[2],d=s[6],p=s[10];return i=i||this._order,"XYZ"===i?(this._y=Math.asin(n(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(-l,p),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(d,u),this._z=0)):"YXZ"===i?(this._x=Math.asin(-n(l,-1,1)),Math.abs(l)<.99999?(this._y=Math.atan2(h,p),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-f,o),this._z=0)):"ZXY"===i?(this._x=Math.asin(n(d,-1,1)),Math.abs(d)<.99999?(this._y=Math.atan2(-f,p),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(c,o))):"ZYX"===i?(this._y=Math.asin(-n(f,-1,1)),Math.abs(f)<.99999?(this._x=Math.atan2(d,p),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-a,u))):"YZX"===i?(this._z=Math.asin(n(c,-1,1)),Math.abs(c)<.99999?(this._x=Math.atan2(-l,u),this._y=Math.atan2(-f,o)):(this._x=0,this._y=Math.atan2(h,p))):"XZY"===i?(this._z=Math.asin(-n(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(d,u),this._y=Math.atan2(h,o)):(this._x=Math.atan2(-l,p),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+i),this._order=i,!1!==r&&this.onChangeCallback(),this},setFromQuaternion:function(){var t=new n;return function(e,i,r){return t.makeRotationFromQuaternion(e),this.setFromRotationMatrix(t,i,r)}}(),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:function(){var t=new i;return function(e){return t.setFromEuler(this),this.setFromQuaternion(t,e)}}(),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new r(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),Object.assign(a.prototype,{set:function(t){this.mask=1<<t|0},enable:function(t){this.mask|=1<<t|0},toggle:function(t){this.mask^=1<<t|0},disable:function(t){this.mask&=~(1<<t|0)},test:function(t){return 0!==(this.mask&t.mask)}}),Object.assign(h.prototype,{isMatrix3:!0,set:function(t,e,i,r,n,s,o,a,h){var c=this.elements;return c[0]=t,c[1]=r,c[2]=o,c[3]=e,c[4]=n,c[5]=a,c[6]=i,c[7]=s,c[8]=h,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:function(){var t=new r;return function(e){for(var i=0,r=e.count;i<r;i++)t.x=e.getX(i),t.y=e.getY(i),t.z=e.getZ(i),t.applyMatrix3(this),e.setXYZ(i,t.x,t.y,t.z);return e}}(),multiply:function(t){return this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var i=t.elements,r=e.elements,n=this.elements,s=i[0],o=i[3],a=i[6],h=i[1],c=i[4],u=i[7],l=i[2],f=i[5],d=i[8],p=r[0],m=r[3],x=r[6],y=r[1],v=r[4],g=r[7],b=r[2],w=r[5],_=r[8];return n[0]=s*p+o*y+a*b,n[3]=s*m+o*v+a*w,n[6]=s*x+o*g+a*_,n[1]=h*p+c*y+u*b,n[4]=h*m+c*v+u*w,n[7]=h*x+c*g+u*_,n[2]=l*p+f*y+d*b,n[5]=l*m+f*v+d*w,n[8]=l*x+f*g+d*_,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],i=t[1],r=t[2],n=t[3],s=t[4],o=t[5],a=t[6],h=t[7],c=t[8];return e*s*c-e*o*h-i*n*c+i*o*a+r*n*h-r*s*a},getInverse:function(t,e){t&&t.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var i=t.elements,r=this.elements,n=i[0],s=i[1],o=i[2],a=i[3],h=i[4],c=i[5],u=i[6],l=i[7],f=i[8],d=f*h-c*l,p=c*u-f*a,m=l*a-h*u,x=n*d+s*p+o*m;if(0===x){var y="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(y);return console.warn(y),this.identity()}var v=1/x;return r[0]=d*v,r[1]=(o*l-f*s)*v,r[2]=(c*s-o*h)*v,r[3]=p*v,r[4]=(f*n-o*u)*v,r[5]=(o*a-c*n)*v,r[6]=m*v,r[7]=(s*u-l*n)*v,r[8]=(h*n-s*a)*v,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},setUvTransform:function(t,e,i,r,n,s,o){var a=Math.cos(n),h=Math.sin(n);this.set(i*a,i*h,-i*(a*s+h*o)+s+t,-r*h,r*a,-r*(-h*s+a*o)+o+e,0,0,1)},scale:function(t,e){var i=this.elements;return i[0]*=t,i[3]*=t,i[6]*=t,i[1]*=e,i[4]*=e,i[7]*=e,this},rotate:function(t){var e=Math.cos(t),i=Math.sin(t),r=this.elements,n=r[0],s=r[3],o=r[6],a=r[1],h=r[4],c=r[7];return r[0]=e*n+i*a,r[3]=e*s+i*h,r[6]=e*o+i*c,r[1]=-i*n+e*a,r[4]=-i*s+e*h,r[7]=-i*o+e*c,this},translate:function(t,e){var i=this.elements;return i[0]+=t*i[2],i[3]+=t*i[5],i[6]+=t*i[8],i[1]+=e*i[2],i[4]+=e*i[5],i[7]+=e*i[8],this},equals:function(t){for(var e=this.elements,i=t.elements,r=0;r<9;r++)if(e[r]!==i[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var i=0;i<9;i++)this.elements[i]=t[i+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}});var c=0;function u(){Object.defineProperty(this,"id",{value:c++}),this.uuid=e.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=u.DefaultUp.clone();var t=new r,s=new o,l=new i,f=new r(1,1,1);function d(){l.setFromEuler(s,!1)}function p(){s.setFromQuaternion(l,void 0,!1)}s.onChange(d),l.onChange(p),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:s},quaternion:{configurable:!0,enumerable:!0,value:l},scale:{configurable:!0,enumerable:!0,value:f},modelViewMatrix:{value:new n},normalMatrix:{value:new h}}),this.matrix=new n,this.matrixWorld=new n,this.matrixAutoUpdate=u.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new a,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function l(){u.call(this),this.type="Camera",this.matrixWorldInverse=new n,this.projectionMatrix=new n,this.projectionMatrixInverse=new n}function f(t,e,i,r){l.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==i?i:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}u.DefaultUp=new r(0,1,0),u.DefaultMatrixAutoUpdate=!0,u.prototype=Object.assign(Object.create(s.prototype),{constructor:u,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(){var t=new i;return function(e,i){return t.setFromAxisAngle(e,i),this.quaternion.multiply(t),this}}(),rotateOnWorldAxis:function(){var t=new i;return function(e,i){return t.setFromAxisAngle(e,i),this.quaternion.premultiply(t),this}}(),rotateX:function(){var t=new r(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateY:function(){var t=new r(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateZ:function(){var t=new r(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}(),translateOnAxis:function(){var t=new r;return function(e,i){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(i)),this}}(),translateX:function(){var t=new r(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new r(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new r(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var t=new n;return function(e){return e.applyMatrix4(t.getInverse(this.matrixWorld))}}(),lookAt:function(){var t=new i,e=new n,s=new r,o=new r;return function(i,r,n){i.isVector3?s.copy(i):s.set(i,r,n);var a=this.parent;this.updateWorldMatrix(!0,!1),o.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?e.lookAt(o,s,this.up):e.lookAt(s,o,this.up),this.quaternion.setFromRotationMatrix(e),a&&(e.extractRotation(a.matrixWorld),t.setFromRotationMatrix(e),this.quaternion.premultiply(t.inverse()))}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}var i=this.children.indexOf(t);return-1!==i&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(i,1)),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var i=0,r=this.children.length;i<r;i++){var n=this.children[i],s=n.getObjectByProperty(t,e);if(void 0!==s)return s}},getWorldPosition:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),t=new r),this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var t=new r,e=new r;return function(r){return void 0===r&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),r=new i),this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,r,e),r}}(),getWorldScale:function(){var t=new r,e=new i;return function(i){return void 0===i&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),i=new r),this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,i),i}}(),getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),t=new r),this.updateMatrixWorld(!0);var e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()},raycast:function(){},traverse:function(t){t(this);for(var e=this.children,i=0,r=e.length;i<r;i++)e[i].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,i=0,r=e.length;i<r;i++)e[i].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,i=0,r=e.length;i<r;i++)e[i].updateMatrixWorld(t)},updateWorldMatrix:function(t,e){var i=this.parent;if(!0===t&&null!==i&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e)for(var r=this.children,n=0,s=r.length;n<s;n++)r[n].updateWorldMatrix(!1,!0)},toJSON:function(t){var e=void 0===t||"string"===typeof t,i={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function n(e,i){return void 0===e[i.uuid]&&(e[i.uuid]=i.toJSON(t)),i.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isMesh||this.isLine||this.isPoints){r.geometry=n(t.geometries,this.geometry);var s=this.geometry.parameters;if(void 0!==s&&void 0!==s.shapes){var o=s.shapes;if(Array.isArray(o))for(var a=0,h=o.length;a<h;a++){var c=o[a];n(t.shapes,c)}else n(t.shapes,o)}}if(void 0!==this.material)if(Array.isArray(this.material)){var u=[];for(a=0,h=this.material.length;a<h;a++)u.push(n(t.materials,this.material[a]));r.material=u}else r.material=n(t.materials,this.material);if(this.children.length>0){r.children=[];for(a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(t).object)}if(e){var l=m(t.geometries),f=m(t.materials),d=m(t.textures),p=m(t.images);o=m(t.shapes);l.length>0&&(i.geometries=l),f.length>0&&(i.materials=f),d.length>0&&(i.textures=d),p.length>0&&(i.images=p),o.length>0&&(i.shapes=o)}return i.object=r,i;function m(t){var e=[];for(var i in t){var r=t[i];delete r.metadata,e.push(r)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var i=0;i<t.children.length;i++){var r=t.children[i];this.add(r.clone())}return this}}),l.prototype=Object.assign(Object.create(u.prototype),{constructor:l,isCamera:!0,copy:function(t,e){return u.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this},getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),t=new r),this.updateMatrixWorld(!0);var e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()},updateMatrixWorld:function(t){u.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),f.prototype=Object.assign(Object.create(l.prototype),{constructor:f,isPerspectiveCamera:!0,copy:function(t,e){return l.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var i=.5*this.getFilmHeight()/t;this.fov=2*e.RAD2DEG*Math.atan(i),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*e.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*e.RAD2DEG*Math.atan(Math.tan(.5*e.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,i,r,n,s){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=r,this.view.width=n,this.view.height=s,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,i=t*Math.tan(.5*e.DEG2RAD*this.fov)/this.zoom,r=2*i,n=this.aspect*r,s=-.5*n,o=this.view;if(null!==this.view&&this.view.enabled){var a=o.fullWidth,h=o.fullHeight;s+=o.offsetX*n/a,i-=o.offsetY*r/h,n*=o.width/a,r*=o.height/h}var c=this.filmOffset;0!==c&&(s+=t*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+n,i,i-r,t,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(t){var e=u.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),t.PerspectiveCamera=f,t.Matrix4=n,t.Vector3=r,Object.defineProperty(t,"__esModule",{value:!0})}));var R={data:function(){return{}},methods:C({},Object(x["b"])(["init"])),computed:C({},Object(x["c"])(["width"])),components:{},created:function(){console.log("THREE",THREE)},mounted:function(){var t=600,e=800,i=document.getElementById("webgl");i.width=t,i.height=e;for(var r=i.getContext("webgl"),n=document.getElementById("vertexShader").innerText,s=document.getElementById("fragmentShader").innerText,o=P(r,n,s),a=r.getAttribLocation(o,"position"),h=r.getAttribLocation(o,"scale"),c=r.getUniformLocation(o,"modelViewMatrix"),u=r.getUniformLocation(o,"projectionMatrix"),l=100,f=50,d=50,p=f*d,m=new Float32Array(3*p),x=new Float32Array(p),y=0,v=0,g=0;g<f;g++)for(var b=0;b<d;b++)m[y]=g*l-f*l/2,m[y+1]=0,m[y+2]=b*l-d*l/2,x[v]=1,y+=3,v++;var w=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,w),r.bufferData(r.ARRAY_BUFFER,x,r.STATIC_DRAW),r.vertexAttribPointer(h,1,r.FLOAT,!1,0,0),r.enableVertexAttribArray(h);var _=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,_),r.bufferData(r.ARRAY_BUFFER,m,r.STATIC_DRAW),r.vertexAttribPointer(a,3,r.FLOAT,!1,0,0),r.enableVertexAttribArray(a),r.enable(r.DEPTH_TEST);var M=t,z=e,O=new THREE.PerspectiveCamera(60,M/z,1,1e4);O.position.set(200,300,200),O.position.set(944,206,-262),O.lookAt(new THREE.Vector3(0,0,0)),O.updateProjectionMatrix(),O.updateMatrixWorld(!0);M=t,z=e;var j=new THREE.Matrix4;j.copy(O.projectionMatrix);var E=new Float32Array(j.elements);r.uniformMatrix4fv(u,!1,E);var k=new THREE.Matrix4;k.copy(O.matrixWorldInverse),console.log(O.matrixWorldInverse);var S=new Float32Array(k.elements);r.uniformMatrix4fv(c,!1,S);var A=0,C=0,R=t/2,D=e/2;function F(){O.position.x+=.01*(C-O.position.x),O.updateMatrixWorld(!0),k.copy(O.matrixWorldInverse);var t=new Float32Array(k.elements);r.uniformMatrix4fv(c,!1,t);for(var e=0,i=0,n=0;n<f;n++)for(var s=0;s<d;s++)m[e+1]=50*Math.sin(.3*(n+A))+50*Math.sin(.5*(s+A)),x[i]=8*(Math.sin(.3*(n+A))+1.3)+8*(Math.sin(.5*(s+A))+1.3),e+=3,i++;A+=.1,r.bindBuffer(r.ARRAY_BUFFER,w),r.bufferData(r.ARRAY_BUFFER,x,r.STATIC_DRAW),r.bindBuffer(r.ARRAY_BUFFER,_),r.bufferData(r.ARRAY_BUFFER,m,r.STATIC_DRAW),requestAnimationFrame(F),r.drawArrays(r.POINTS,0,2500)}function P(t,e,i){var r=t.createShader(t.VERTEX_SHADER),n=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(r,e),t.shaderSource(n,i),t.compileShader(r),t.compileShader(n);var s=t.createProgram();return t.attachShader(s,r),t.attachShader(s,n),t.linkProgram(s),t.useProgram(s),s}function T(t){C=t.clientX-R,t.clientY-D}function W(t){1===t.touches.length&&(t.preventDefault(),C=t.touches[0].pageX-R,t.touches[0].pageY-D)}function I(t){1===t.touches.length&&(t.preventDefault(),C=t.touches[0].pageX-R,t.touches[0].pageY-D)}F(),document.addEventListener("mousemove",T,!1),document.addEventListener("touchstart",W,!1),document.addEventListener("touchmove",I,!1)}},D=R,F=(i("3a7a"),Object(c["a"])(D,E,k,!1,null,"09fec410",null)),P=F.exports;function T(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function W(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?T(Object(i),!0).forEach((function(e){Object(m["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):T(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var I={data:function(){return{}},methods:{},computed:W({},Object(x["c"])(["width","ebookId","docContent","docDate","search"])),components:{EbookCover:P},watch:{docContent:function(){setTimeout((function(){var t=document.getElementsByName("keyword")[0];t&&t.scrollIntoView()}),300)}},monuted:function(){}},V=I,Y=(i("9eb6"),Object(c["a"])(V,O,j,!1,null,null,null)),q=Y.exports;function H(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function L(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?H(Object(i),!0).forEach((function(e){Object(m["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):H(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var U={data:function(){return{}},methods:L({},Object(x["b"])(["init"])),computed:L({},Object(x["c"])(["width"])),components:{EbookList:z,EbookContent:q}},X=U,Z=(i("03ae"),Object(c["a"])(X,d,p,!1,null,null,null)),B=Z.exports;r["default"].use(f["a"]);var N=new f["a"]({mode:"history",base:"/WebGL/",routes:[{path:"/",name:"Home",component:B}]}),G=(i("79d6"),i("375c"),i("aa41")),Q=i.n(G),$=(i("a625"),i("176d")),J=i.n($),K=(i("d7a0"),i("9504")),tt=i.n(K),et=(i("ba2f"),i("38e8")),it=i.n(et);i("46c6");r["default"].use(it.a),r["default"].use(tt.a),r["default"].use(J.a),r["default"].use(Q.a);var rt={ebookId:"",ebookList:"",docContent:"",docDate:"",width:window.innerWidth,height:window.innerHeight,search:"",docArr:"",curDocId:""},nt=(i("9dd9"),i("f548"),{updateCurEbook:function(t,e){t.ebookId=e.data._id;var i=e.data.listContent,r=i.replace(new RegExp("name","g"),"label"),n=JSON.parse(r);t.ebookList=n.children,console.log()},updateDoc:function(t,e){var i=e.data.contentHTML;t.search?(console.log("state.search",t.search),t.docContent=i.replace(new RegExp(">([^><]*?)"+t.search+"([^><]*?)<","gi"),'>$1<span name="keyword" style="background:rgba(255,100,0,0.5);">'+t.search+"</span>$2<")):(t.docContent=i,t.curDocId=e.data._id),t.docDate=e.data.date},findText:function(t,e){t.docArr=e.docArr,t.search=e.search},clearInput:function(t){t.docArr="",t.search=""},clearDocContent:function(t){t.docContent=""},updateWinSize:function(t){t.width=window.innerWidth,t.height=window.innerHeight}}),st=i("2427"),ot=i.n(st);ot.a.defaults.baseURL="http://112.74.179.151:3000/api";var at={init:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ot.a.get("/ebooklists/5e002111c9da7b4b2cc17253");case 2:return i=t.sent,e.commit("updateCurEbook",i),t.next=6,ot.a.get("/ebookdocs/"+e.state.ebookList[0].docId);case 6:t.sent;case 7:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),chooseDoc:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,i){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(),t.next=3,ot.a.get("/ebookdocs/"+i.docId);case 3:r=t.sent,r.data&&e.commit("updateDoc",r);case 5:case"end":return t.stop()}}),t)})));function e(e,i){return t.apply(this,arguments)}return e}(),clearDocContent:function(t){t.commit("clearDocContent")},findText:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,i){var r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ot.a.post("/ebookdocsfindText",{content:i,ebookId:e.state.ebookId});case 2:if(r=t.sent,!r.data){t.next=16;break}if(e.commit("findText",{docArr:r.data,search:i}),!r.data.length){t.next=12;break}return t.next=8,ot.a.get("/ebookdocs/"+r.data[0]._id);case 8:n=t.sent,n.data&&e.commit("updateDoc",n),t.next=16;break;case 12:return t.next=14,ot.a.get("/ebookdocs/"+e.state.ebookList[0].docId);case 14:s=t.sent,e.commit("updateDoc",s);case 16:case"end":return t.stop()}}),t)})));function e(e,i){return t.apply(this,arguments)}return e}(),clearInput:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.commit("clearInput"),t.next=3,ot.a.get("/ebookdocs/"+e.state.ebookList[0].docId);case 3:i=t.sent,e.commit("updateDoc",i);case 5:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()};r["default"].use(x["a"]);var ht=new x["a"].Store({state:rt,mutations:nt,actions:at}),ct=ht;ot.a.defaults.baseURL="http://112.74.179.151:3000/api",r["default"].prototype.$http=ot.a,new r["default"]({router:N,store:ct,render:function(t){return t(l)}}).$mount("#app")},7727:function(t,e,i){},"84ed":function(t,e,i){t.exports=i.p+"img/知乎.ca1078b5.png"},8503:function(t,e,i){},"9ad6":function(t,e,i){},"9eb6":function(t,e,i){"use strict";var r=i("9ad6"),n=i.n(r);n.a}});