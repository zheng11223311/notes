# 页面导航

### 什么是页面导航

页面导航指的是`页面之间的相互跳转`,例如,浏览器中实现页面导航的方式有如下两种:

- \<a> 链接
- location.href



### 小程序中实现页面导航的两种方式

1. **声明式导航**
   1. 在页面上声明一个\<navigator> 导航组件
   2. 通过点击\<navigator> 组件实现页面跳转
2. **编程式导航**
   1. 调用小程序的导航API ,实现页面的跳转





### 导航到tabBar 页面

`tabBar 页面`指的是被配置为tabBar 的页面

在使用\<navigator>组件跳转到指定的tabBar 页面时,需要指定`url`属性 和`open-type` 属性,其中:

- url 表示要跳转的`页面的地址`,必须以`/`开头
- open-type 表示`跳转的方式`,必须为`switchTab`

示例代码如下:

```html
<navigator url="/pages/message/message" open-type="switchTab">导航到消息页面</navigator>
```





### 导航到非tabBar 页面

`非tabBar 页面` 指的是没有被配置为tabBar 的页面

在使用\<navigator>组件跳转到指定的tabBar 页面时,需要指定`url`属性 和`open-type` 属性,其中:

- url 表示要跳转的`页面的地址`,必须以`/`开头
- open-type 表示`跳转的方式`,必须为`navigate`

示例代码如下:

```html
<navigator url="/pages/info/info" open-type="navigate">导航到info页面</navigator>
```



**注意: 为了简便,在导航到非tabBar 页面时,open-type="navigate" 属性可以省略**





### 后退导航

如果要后退到上一个页面或多级页面,则需要指定open-type 属性和delta 属性,其中:

- `open-type`的值必须是`navigateBack` ,表示要进行后退导航
- `delta`的值必须是`数字`,表示要后退的层级

示例代码如下:

```html
<navigator  open-type="navigateBack" delta='1'>返回上一页</navigator>
```

**注意:为了简便,如果只是后退到上一页面,则可以省略delta 属性,因为其默认值就是1**





# 编程式导航

### 导航到tabBar 页面

调用`wx.switchTab(Object object)`方法,可以跳转到tabBar 页面,其中Object `参数对象`的属性列表如下:

| 属性     | 类型     | 是否必选 | 说明                                          |
| -------- | -------- | -------- | --------------------------------------------- |
| url      | string   | 是       | 需要跳转的tarBar 页面的路径,路径后不能带参数  |
| success  | function | 否       | 接口调用成功的回调函数                        |
| fail     | function | 否       | 接口调用失败的回调函数                        |
| complete | function | 否       | 接口调用结束的回调函数(调用成功,失败都会执行) |

```html
<!-- 页面结构 -->
<button bindtap="gotoMessage">跳转到消息页面</button>
```

```js
//通过编程式导航,跳转到message 页面
gotoMessage(){
    wx.switchTab({
        url:'/pages/message/message'
    })
}
```





### 导航到非tabBar 页面

调用`wx.navigateTo(Object object)`方法,可以跳转到非tabBar 的页面,其中Object `参数对象`的属性列表如下:

| 属性     | 类型     | 是否必选 | 说明                                            |
| -------- | -------- | -------- | ----------------------------------------------- |
| url      | string   | 是       | 需要跳转的非 tarBar 页面的路径,路径后不能带参数 |
| success  | function | 否       | 接口调用成功的回调函数                          |
| fail     | function | 否       | 接口调用失败的回调函数                          |
| complete | function | 否       | 接口调用结束的回调函数(调用成功,失败都会执行)   |

```html
<!-- 页面结构 -->
<button bindtap="gotoInfo">跳转到info 页面</button>
```

```js
//通过编程式导航,跳转到info 页面
gotoInfo(){
    wx.navigateTo({
        url:'/pages/info/info'
    })
}
```





### 后退导航

调用`wx.navigateBack(Object object)`方法,可以返回上一页面或多级页面,其中Object `参数对象`可选的属性列表如下:

| 属性     | 类型     |      | 是否必选 | 说明                                               |
| -------- | -------- | ---- | -------- | -------------------------------------------------- |
| delta    | number   | 1    | 否       | 返回的页面数,如果delta 大于现有页面数,则返回到首页 |
| success  | function |      | 否       | 接口调用成功的回调函数                             |
| fail     | function |      | 否       | 接口调用失败的回调函数                             |
| complete | function |      | 否       | 接口调用结束的回调函数(调用成功,失败都会执行)      |

```html
<!-- 页面结构 -->
<button bindtap="gotoBack">后退</button>
```

```js
//编程式导航,后退到上页面
gotoBack(){
    wx.navigateBack()	
}

gotoBack(){
    wx.navigateBack({
        delta:2		//后退2层
    })	
}
```







# 导航传参

### 声明式导航传参

navigator 组件的url 属性用来指定将要跳转到的页面路径,同时,`路径的后面还可以携带参数`:

- `参数`与`路径`之间使用`?`分隔
- `参数键`与`参数值`用`=`相连
- `不同参数`用`&`分隔

示例代码如下:

```html
<navigator  url="/pages/info/info?name=zs&age=22">跳转到info 页面</navigator>
```

在微信开发者工具中模拟器底部`切换页面路径为页面参数` ,可以查看到页面传递的参数





### 编程式导航传参

调用`wx.navigateTo(Object object)`方法跳转页面时,也可以携带参数,代码示例如下:

```html
<!-- 页面结构 -->
<button bindtap="gotoInfo">跳转到info 页面</button>
```

```js
//编程式导航,后退到上页面
gotoInfo(){
    wx.navigatTo({
        url:"/pages/info/info?name=zs&age=22"
    })	
}

```





### 在onLoad 中接收导航参数

通过`声明式导航传参`或`编程式导航传参`所携带的参数,可以直接在`onLoad 事件`中直接获取到,示例代码如下:

```js
onLoad:function(options){
    //options 就是导航传递过来的参数对象
    console.log(options)
}
```

