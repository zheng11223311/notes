# 案例-本地生活

### 首页效果及实现步骤

1. 新建项目并梳理项目结构
2. 配置`导航栏`效果
3. 配置`tabBar`效果
4. 实现`轮播图`效果
5. 实现`九宫格`效果
6. 实现`图片布局`

![](D:\学习\wanye\HTML\微信小程序\笔记\img\20-1.png)







### 接口地址

1. 获取`轮播图`数据列表的接口
   1. [GET] https://www.escook.cn/slides
2. 获取`九宫格`数据列表的接口
   1. [GET] https://www.escook.cn/categories





### 代码

app.json

```json
{
    "pages": [
        "pages/home/home",
        "pages/message/message",
        "pages/contact/contact"
    ],
    "window": {
        "backgroundTextStyle": "light",
        "navigationBarBackgroundColor": "#2b4b6b",
        "navigationBarTitleText": "本地生活",
        "navigationBarTextStyle": "white"
    },
    "tabBar": {
      "list": [{
        "pagePath": "pages/home/home",
        "text": "首页",
        "iconPath": "/images/home.png",
        "selectedIconPath": "/images/home1.png"
      },
      {
        "pagePath": "pages/message/message",
        "text": "消息",
        "iconPath": "/images/message_light.png",
        "selectedIconPath": "/images/message_light (1).png"
      },
      {
        "pagePath": "pages/contact/contact",
        "text": "联系我们",
        "iconPath": "/images/contact-phone.png",
        "selectedIconPath": "/images/contact-phone (1).png"
      }
    ]
    },
    "style": "v2",
    "sitemapLocation": "sitemap.json"
}
```



home.js

```js
// pages/home/home.js
Page({

  /**
   * 页面的初始数据
   */
  data: {
    // 存放轮播图数据的列表
    swiperList:[],
    // 存放九宫格数据的列表
    gridList:[]
  },

  /**
   * 生命周期函数--监听页面加载
   */
  onLoad(options) {
    this.getSwiperList()
    this.getGridList()
  },
    // 获取轮播图数据的方法
    getSwiperList(){
      wx.request({
        url: 'https://www.escook.cn/slides',
        method:'GET',
        success:(res)=>{
          console.log(res)
          this.setData({
            swiperList:res.data
          })
        }
      })
    },
    // 获取九宫格的方法
    getGridList(){
      wx.request({
        url: 'https://www.escook.cn/categories',
        method:'GET',
        success:(res)=>{
          console.log(res.data)
          this.setData({
            gridList:res.data
          })
        }
      })
    },
  /**
   * 生命周期函数--监听页面初次渲染完成
   */
  onReady() {

  },

  /**
   * 生命周期函数--监听页面显示
   */
  onShow() {

  },

  /**
   * 生命周期函数--监听页面隐藏
   */
  onHide() {

  },

  /**
   * 生命周期函数--监听页面卸载
   */
  onUnload() {

  },

  /**
   * 页面相关事件处理函数--监听用户下拉动作
   */
  onPullDownRefresh() {

  },

  /**
   * 页面上拉触底事件的处理函数
   */
  onReachBottom() {

  },

  /**
   * 用户点击右上角分享
   */
  onShareAppMessage() {

  }
})
```



home.wxss

```html
<!--pages/home/home.wxml-->
<!-- 轮播图区域 -->
<swiper indicator-dots circular>
  <swiper-item wx:for="{{swiperList}}" wx:key="id">
    <image src="{{item.image}}"></image>
  </swiper-item>
</swiper>

<!-- 九宫格区域 -->
<view class="grid-list">
  <view class="grid-item" wx:for="{{gridList}}" wx:key="id">
    <image src="{{item.icon}}"></image>
    <text>{{item.name}}</text>
  </view>
</view>

<!-- 图片区域 -->
<view class="img-box">
<image mode="widthFix" src="/images/1.jpg"></image>
<image  mode="widthFix" src="/images/2.jpg"></image>
</view>
```



home.wcss

```css
/* pages/home/home.wxss */
swiper{
  height: 350rpx;
}
swiper image{
  width: 100%;
  height: 100%;
}
.grid-list{
  display: flex;
  flex-wrap: wrap;
  border-left: 1px solid #efefef;
  border-top: 1px solid #efefef;

}
.grid-item{
  width: 33.33%;
  height: 200rpx;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  border-right: 1px solid #efefef;
  border-bottom: 1px solid #efefef;
  box-sizing: border-box;
}
.grid-item image{
  width: 60rpx;
  height: 60rpx;
}
.grid-item  text{
  font-size: 24rpx;
  margin-top: 10rpx;
}
.img-box{
  display: flex;
  padding: 20rpx 10rpx;
  justify-content: space-around;
}
.img-box image{
  width: 45%;
}
```







# 总结

1. 能够使用wxml 模板语法渲染页面结构
   1. wx:if wx:elif wx:else wx:for  hidden wx:key
2. 能够使用wxss 样式美化页面结构
   1. rpx 尺寸单位 @import 样式导入 全局样式和局部样式
3. 能够使用app.json 对小程序进行全局性配置
   1. pages window tarBar style
4. 能够使用page.json 对小程序页面进行个性化配置
   1. 对单个页面进行个性化配置,就近原则
5. 能够知道如何发起网络数据请求
   1. wx.request() 方法 onLoad() 事件