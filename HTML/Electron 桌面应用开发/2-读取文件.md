# 编写项目

在根目录下创建`index.js` 文件 和 `index.html`文件 和 `read.js 文件`和`1.txt `文件

```js
//index.js
 var electron=require('electron')

 var app=electron.app       //引用app
 var BrowserWindow=electron.BrowserWindow   //引用桌面窗口

 var mainWindow=null    //声明要打开的主窗口


 app.on('ready',()=>{   //生命周期函数,监听窗口准备
    mainWindow=new BrowserWindow({
        width:1300,      //窗口的宽
        height:600,      //窗口的高
        webPreferences:{
            nodeIntegration:true,       //允许所有的node 库运行,不写的话node 相关的库就无法使用,,是否完整支持node. 默认为 true.
            contextIsolation:false,     //同上配置,需要设置为false,不写的话,node 相关的库就无法使用,比如require 库,比如fs 库
        }
    })
    mainWindow.loadFile('index.html')       //加载应用的界面
    mainWindow.on('closed',()=>{        //监听窗口的关闭
        mainWindow=null         //销毁程序,否则每次打开都会生成占用内存空间
    })
 })

```

`index.html`

```html
<!--index.html-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>第一个桌面应用</title>
</head>
<body>
   <h1> 第一个桌面应用</h1>
    <script src="read.js"></script>
    <div class="disk">
       
    </div>
    <button>读取文件</button>
</body>
</html>
```

`read.js`

```json
const fs = require('fs');

// 在app 中使用view ->toggle Developer tools 调试工具

window.onload = function () {       //一定要写onload,否则获取不到
    var disk = this.document.querySelector('.disk')
    var btn = this.document.querySelector('button')
    console.log(disk, btn);
    console.log(this);
    btn.onclick = function () {
        fs.readFile("1.txt", (err, data) => {
            if (err) {
                console.log(err);
                return
            }
            console.log(data);
            disk.innerHTML = data
        })
    }
}
```

`1.txt`

```
嘿嘿嘿哈哈
嘿嘿嘿哈哈1
```

**启动应用**

```js
electron .		//全局下的electron 使用方式启动
npx electron .		//局部安装下的electron 使用方式启动
npm start 			//使用package.json 中配置的命令启动
electron index.js	//直接指定启动文件
```

