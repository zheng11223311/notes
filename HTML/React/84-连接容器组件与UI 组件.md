容器组件放在container  文件夹下

UI 组件放在components 文件夹下

**安装：**

```
npm install react-redux
```

**示例:**

**App.js 文件**

```js
//引入容器组件
import Count from './containers/Count/Count'
//‘引入redux 的store
import store from './redux/store'
function App() {
  return (
    <div className="App">
      <Count store={store}/>
    </div> 
  );
}

export default App;
```

**容器**

**src/container/Count/Count.jsx  文件**

```jsx
//引入count 的UI 组件
import CountUI from '../../compoments/Count/Count'

//引入connect 用于连接UI组件库与redux
import { connect } from 'react-redux'

//创建并暴露一个容器组件
const countContainer = connect()(CountUI)

export default countContainer
```

**UI 组件components**

**src/components/Count/Count.jsx  文件**

```jsx
import React, { Component } from 'react'


export default class Count extends Component {
    // 加法
    increment = () => {
        const { value } = this.selectNumber

    }
    //减法
    decrement = () => {
        const { value } = this.selectNumber

    }
    // 奇数再加
    incrementIfOdd = () => {
        const { value } = this.selectNumber


    }
    incrementAsync = () => {
        const { value } = this.selectNumber
    }
    render() {
        return (
            <div>
                <h1>当前求和为：</h1>
                <select ref={c => this.selectNumber = c} name="" id="">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                </select>
                {/* alt 键多选 */}
                <button onClick={this.increment}>+</button>
                <button onClick={this.decrement}>-</button>
                <button onClick={this.incrementIfOdd}>当前和为奇数再加</button>
                <button onClick={this.incrementAsync}>异步加</button>
            </div>
        )
    }
}

```

**src/redux/store.js  文件**

```js
/* 
    该文件专门用于暴露一个store 对象，整个应用只有一个store 对象
*/

//引入createStore，专门用于创建redux 中最为核心的store 对象
//applyMiddleware  处理异步的中间件
import {createStore,applyMiddleware} from 'redux'
//引入为Count 组件服务的reducer
import countReducer from './count_rducer'
//引入redux-thunk，用于支持异步action
import  thunk from 'redux-thunk'

// const store=createStore(countReducer)
// export default store

//暴露store
export default createStore(countReducer,applyMiddleware(thunk))
```

**src/redux/count_rducer.js  文件**

```js
/* 
    1.该文件时用于创建一个为Count 组件服务的reducer，reducer 的本质就是一个函数
    2.reducer 函数会接受两个参数，分别为：之前的状态（preState），动作对象（action）
    reducer 只会负责加减，不负责其他的异步加载等杂乱事情，就像厨师一样，只负责做菜，
    不会去考虑是否加小料
*/
import {INCREMENT,DECREMENT} from './constant'
const initState=0       //初始化状态，等于if(preState===undefined) preState=0
export default  function countReducer(preState=initState,action){
    console.log(preState,action);
    // action 的type 属性为@@init+随机数字，防止与自定义的type 冲突
    //初始化时没有参数传进来
    // if(preState===undefined) preState=0
    //从action 对象中获取：type，data
    const {type,data}=action
    //根据type 决定如何技工数据
    switch (type) {
        case INCREMENT:   //如果是加
         return  preState+data
        case DECREMENT:   //如果是减
         return  preState-data
    
        default:
            return preState
    }
}
```

**src/redux/constant.js  文件**

```js
/* 
    该模块是用于定义action 对象中type 类型的常量值，目的只有一个：
    便于管理的同时防止程序员单词写错
*/
export const INCREMENT='increment'
export const DECREMENT='decrement'
```

