### 商城项目实战

**封装请求**

```js
const BASE_URL="http://localhost/php/1-php%20copy%2097.php"
export const myRequest=(option)=>{
	return new Promise((resolve,reject)=>{
		uni.request({
			url:BASE_URL+option.url||BASE_URL,
			method:option.method||'GET',
			data:option.data||{},
			success:(res)=>{
				if(res){
					// console.log(res)
					 uni.showToast({
						title:'获取数据成功'
					})
				}
				resolve(res)
			},
			fail:(err)=> {
				return uni.showToast({
					title:'获取数据失败',
					icon:'error'
				})
				reject(err)
			}
		})
	})
}
```

mian.js

```
import {myRequest} from './util/api.js'

Vue.prototype.$myRequest=myRequest
```

