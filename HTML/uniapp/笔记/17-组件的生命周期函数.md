### 组件的生命周期函数

[生命周期 - uni-app官网 (dcloud.io)](https://uniapp.dcloud.io/collocation/frame/lifecycle?id=组件生命周期)

### [组件生命周期](https://uniapp.dcloud.io/collocation/frame/lifecycle?id=组件生命周期)

`uni-app` 组件支持的生命周期，与vue标准组件的生命周期相同。这里没有页面级的onLoad等生命周期：

| 函数名        | 说明                                                         | 平台差异说明 | 最低版本 |
| :------------ | :----------------------------------------------------------- | :----------- | :------- |
| beforeCreate  | 在实例初始化之后被调用。[详见](https://cn.vuejs.org/v2/api/#beforeCreate) |              |          |
| created       | 在实例创建完成后被立即调用。[详见](https://cn.vuejs.org/v2/api/#created) |              |          |
| beforeMount   | 在挂载开始之前被调用。[详见](https://cn.vuejs.org/v2/api/#beforeMount) |              |          |
| mounted       | 挂载到实例上去之后调用。[详见](https://cn.vuejs.org/v2/api/#mounted) 注意：此处并不能确定子组件被全部挂载，如果需要子组件完全挂载之后在执行操作可以使用`$nextTick`[Vue官方文档](https://cn.vuejs.org/v2/api/#Vue-nextTick) |              |          |
| beforeUpdate  | 数据更新时调用，发生在虚拟 DOM 打补丁之前。[详见](https://cn.vuejs.org/v2/api/#beforeUpdate) | 仅H5平台支持 |          |
| updated       | 由于数据更改导致的虚拟 DOM 重新渲染和打补丁，在这之后会调用该钩子。[详见](https://cn.vuejs.org/v2/api/#updated) | 仅H5平台支持 |          |
| beforeDestroy | 实例销毁之前调用。在这一步，实例仍然完全可用。[详见](https://cn.vuejs.org/v2/api/#beforeDestroy) |              |          |
| destroyed     | Vue 实例销毁后调用。调用后，Vue 实例指示的所有东西都会解绑定，所有的事件监听器会被移除，所有的子实例也会被销毁。[详见](https://cn.vuejs.org/v2/api/#destroyed) |              |          |

 **示例**

**login.vue**

```vue
<template>
	<view id="myview">
		这是login 组件{{num}}
		
	</view>
</template>

<script>
	export default{
		data(){
			return{
				num:3
			}
		},
		beforeCreate() {
			// 还不能使用data 数据/方法
			console.log('实例初始化之后被调用')
			console.log(this.num)	//undefine
		},
		created() {
			// 可以用data 数据/方法
			console.log('实例已经创建完成')
			console.log(this.num)	//3
		},
		beforeMount() {
			// 挂载之前还不能获取到元素
			console.log('组件挂载之前调用')
			console.log(document.getElementById('myview'))	//null
		},
		mounted() {
			// 挂载之后,获取到元素
			console.log('组件挂载之后调用')
			console.log(document.getElementById('myview'))	//<uni-view data-v-55f941d8="" data-v-10e1d32c="" id="myview">这是login 组件3</uni-view>
		},
		destroyed() {
			// 用于结束前面创建的定时器等残留东西
			console.log('组件销毁了')
		}
		
	}
</script>
<style>
</style>

```

**style.vue**

```vue
<template>
	<view class="content">
		<!-- 使用login 组件 -->
		<login v-if="dest"></login>
		<button type="default" @click="dest=false">销毁login 组件</button>
	</view>
</template>

<script>
	import login from '@/components/login/login.vue'
	export default{
		data(){ 
			return{
				dest:true
			}
		},
		components:{
			login
		},
		onLoad(options) {
			// 接收到get 传递的参数,其他导航跳转到此页面携带的参数
			console.log(options)
		},
		onUnload() {
			console.log('页面卸载了')
		}
		
	}
</script>

<style>
/* #ifdef H5  */
.content{
	height: 100px;
	line-height: 100px;
	color: #007AFF;
}	
/* #endif */
/* #ifdef MP-WEIXIN */
.content{
	height: 100px;
	line-height: 100px;
	background-color: #DD524D;
}
/* #endif */
</style>

```

