### 上传图片

**uni.chooseImage(Object)**

**OBJECT 参数说明**

| 参数名     | 类型          | 必填 | 说明                                                         | 平台差异说明                              |
| :--------- | :------------ | :--- | :----------------------------------------------------------- | :---------------------------------------- |
| count      | Number        | 否   | 最多可以选择的图片张数，默认9                                | 见下方说明                                |
| sizeType   | Array<String> | 否   | original 原图，compressed 压缩图，默认二者都有               | App、微信小程序、支付宝小程序、百度小程序 |
| extension  | Array<String> | 否   | 根据文件拓展名过滤，每一项都不能是空字符串。默认不过滤。     | H5(HBuilder X2.9.9+)                      |
| sourceType | Array<String> | 否   | album 从相册选图，camera 使用相机，默认二者都有。如需直接开相机或直接选相册，请只使用一个选项 |                                           |
| crop       | Object        | 否   | 图像裁剪参数，设置后 sizeType 失效                           | App 3.1.19+                               |
| success    | Function      | 是   | 成功则返回图片的本地文件路径列表 tempFilePaths               |                                           |
| fail       | Function      | 否   | 接口调用失败的回调函数                                       | 小程序、App                               |
| complete   | Function      | 否   | 接口调用结束的回调函数（调用成功、失败都会执行）             |                                           |

**crop 参数说明**

| 参数名      | 类型    | 必填 | 说明                                                         | 平台差异说明  |
| :---------- | :------ | :--- | :----------------------------------------------------------- | :------------ |
| quality     | Number  | 否   | 取值范围为1-100，数值越小，质量越低（仅对jpg格式有效）。默认值为80。 |               |
| width       | Number  | 是   | 裁剪的宽度，单位为px，用于计算裁剪宽高比。                   |               |
| height      | Number  | 是   | 裁剪的高度，单位为px，用于计算裁剪宽高比。                   |               |
| resize      | Boolean | 否   | 是否将width和height作为裁剪保存图片真实的像素值。默认值为true。注：设置为false时在裁剪编辑界面显示图片的像素值，设置为true时不显示 |               |
| saveToAlbum | Boolean | 否   | 是否将裁剪的图片保存到手机相册里，默认值为false。            | App (3.2.15+) |

**Tips**

- count 值在 H5 平台的表现，基于浏览器本身的规范。目前测试的结果来看，只能限制单选/多选，并不能限制数量。并且，在实际的手机浏览器很少有能够支持多选的。
- sourceType 在H5端对应`input`的`capture`属性，设置为`['album']`无效，依然可以使用相机。
- 可以通过用户授权API来判断用户是否给应用授予相册或摄像头的访问权限https://uniapp.dcloud.io/api/other/authorize
- App端如需选择非媒体文件，可在插件市场搜索[文件选择](https://ext.dcloud.net.cn/search?q=文件选择)，其中Android端可以使用Native.js，无需原生插件，而iOS端需要原生插件。
- 选择照片大多为了上传，uni ui封装了更完善的[uni-file-picker组件](https://ext.dcloud.net.cn/plugin?id=4079)，文件选择、上传到uniCloud的免费存储和cdn中，一站式集成。强烈推荐使用。

**注：文件的临时路径，在应用本次启动期间可以正常使用，如需持久保存，需在主动调用 [uni.saveFile](https://uniapp.dcloud.io/api/file/file?id=savefile)，在应用下次启动时才能访问得到。**

**success 返回参数说明**

| 参数          | 类型                       | 说明                                       |
| :------------ | :------------------------- | :----------------------------------------- |
| tempFilePaths | Array<String>              | 图片的本地文件路径列表                     |
| tempFiles     | Array<Object>、Array<File> | 图片的本地文件列表，每一项是一个 File 对象 |

**File 对象结构如下**

| 参数 | 类型   | 说明                           |
| :--- | :----- | :----------------------------- |
| path | String | 本地文件路径                   |
| size | Number | 本地文件大小，单位：B          |
| name | String | 包含扩展名的文件名称，仅H5支持 |
| type | String | 文件类型，仅H5支持             |

 **示例**

```vue
<template>
	<view class="content">
			<button type="default" @click="up">上传图片</button>
			<image v-for="(item,index) in imgArr" :key="index" :src="item" @click="peview(item)">
				
			</image>
	</view>
</template>

<script>
	export default{
		data(){ 
			return{
				imgArr:[]
			}
		},
		methods:{
		  up(){
			  console.log('上传图片')
			  uni.chooseImage({
			  	count:5,
				loop:true,	//可滑动,是否允许滑动到最后一张是可以切换到第一张,只在app 中有效
				indicator:'number',//只在app 中有效
				success :((res) => {
					// console.log(res)
					this.imgArr=res.tempFilePaths
					 console.log(this.imgArr)
				})
			  })
		  },
		  peview(current){
			  // 全屏预览图片
			  uni.previewImage({
			  	current:current,
				urls:this.imgArr
			  })
		  }
		}
		
	}
</script>

<style>
.content{
	height: 100px;
	line-height: 100px;
}	
</style>

```

