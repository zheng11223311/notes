**1.迭代器**

迭代器(Iterator) 是一种接口,为各种不同的数据类型结构提供统一的访问机制,任何数据结构只要部署Iterator 接口,就可以完成遍历操作

**1.ES6 创建了一种新的遍历命令for...in 循环,Iterator 接口主要供for...of 消费**

**2.原生具备iterator 接口的数据(可用for of 遍历)**

​     a.Array

​	b.Arguments

​	c.Set

​	d.Map

​	e.String

​	f.TypedArray

​	g.NodeList

**3.工作原理**

​	a.创建一个指针对象，指向当前数据结构的起始位置

​	b.第一次调用对象的next 方法，指针制动指向数据结构的第一个成员

​	c.接下来不断调用next 方法，指针一直往后移动，直到指向最后一个成员

注意：需要自定义遍历数据的时候，要想到迭代器

```js
const xiyou = ['唐僧', '孙悟空', '猪八戒', '沙僧']
        // 使用for...of 遍历数组
        for (let v of xiyou) {
            console.log(v);
        }

//原型链上有个Symbol(Symbol.iterator) 属性
console.log(xiyou);

//调用对象的next 方法
let iterator = xiyou[Symbol.iterator]()

console.log(iterator);      //Array Iterator {}
console.log(iterator.next());   //{value: "唐僧", done: false}  done 表示是否完成
console.log(iterator.next());   //{value: "孙悟空", done: false}
console.log(iterator.next());   //{value: "猪八戒", done: false}
console.log(iterator.next());   //{value: "沙僧", done: false}
console.log(iterator.next());   //{value: undefined, done: true}
```

**自定义遍历数据**

```js
const banji = {
            name: '终极一班',
            stus: [
                '小明',
                '小宁',
                '小天',
                'knight',
            ],
            //迭代器被下面的for...of 使用
            [Symbol.iterator]() {
                //定义索引变量
                let index = 0
                //保存this
                let _this = this
                return {
                    next: function () {
                        if (index < _this.stus.length) {
                            const result = { value: _this.stus[index], done: false }
                            // 下标自增
                            index++
                            // 返回结果
                            return result
                        } else {
                            return { value: undefined, done: true }
                        }

                    }
                }
            }
        }

        //不能被迭代，因为没有迭代器,for循环使用的是对象里面的迭代器[Symbol.iterator]() 
        for (let v of banji) {
            console.log(v);
        }

```

