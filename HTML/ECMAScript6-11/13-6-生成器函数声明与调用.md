**1.生成器**

生成器函数是ES6 提供的一种异步编程解决方案，语法行为与传统函数完全不同

```js
function *gen(){
	yield '一只没有耳朵'
	yield '一只没有眼睛'
}
```

```js
function* gen() {
            console.log("hello");
        }

let iterator = gen()
console.log(iterator); //gen {<suspended>}
//执行函数
iterator.next()     //hello
```

**yield**

```js
// yield 将函数代码分割，3个yield 将代码分成4代码块，相当于4个函数
        // 头到yield1，最后一个yield 到结束
        function* gen() {
            console.log('这是第一个函数');
            yield '一只没有耳朵'
            console.log('这是第二个函数');
            yield '一只没有眼睛'
            console.log('这是第三个函数');
            yield '真奇怪'
            console.log('这是第四个函数');
        }

        let iterator = gen()
        // console.log(iterator); //gen {<suspended>}
        //执行函数
        // iterator.next() //这是第一个函数
        // iterator.next() //这是第二个函数
        // iterator.next() //这是第三个函数
        // iterator.next() //这是第四个函数
        // iterator.next() //  空
        console.log(iterator.next()); //{ value: "一只没有耳朵", done: false }

        // 遍历
        //返回结果为yield 后面的值
        for (let v of gen()) {
            console.log(v);
        }
```

**生成器函数参数传递**

```js
function* gen(args) {
            console.log(args);
            let one = yield '一只没有耳朵'
            console.log(one);
            let two = yield '一只没有眼睛'
            console.log(two);
            let three = yield '真奇怪'
            console.log(three);
        }
        let iterator = gen('AAA')
        //第一个next() 没有yield
        console.log(iterator.next()); //{ value: "一只没有耳朵", done: false }
        // next 方法可以传入实参,第二个next 参数作为第一个yield 返回的结果
        console.log(iterator.next('BBB')); //{value: "一只没有眼睛", done: false}
        // 第三个next 参数作为第二个yield 返回的结果
        console.log(iterator.next('CCC'));
        console.log(iterator.next('DDD')); 
```

**实例**

```js
 // 1s 后输出111，2是后输出222，3s 后输出333
        function one() {
            setTimeout(() => {
                console.log(111);
                iterator.next()
            }, 1000)
        }
        function two() {
            setTimeout(() => {
                console.log(222);
                iterator.next()
            }, 2000)
        }
        function three() {
            setTimeout(() => {
                console.log(333);
                iterator.next()
            }, 3000)
        }

        function* gen() {
            yield one()
            yield two()
            yield three()
        }

        // 调用生成器函数
        let iterator = gen()
        iterator.next()
```

**实例2**

```js
// 模拟获取，用户数据，订单数据，商品数据
        function getUsers() {
            setTimeout(() => {
                let data = '用户数据'
                iterator.next(data)
            }, 1000)
        }
        function getOrders() {
            setTimeout(() => {
                let data = '订单数据'
                iterator.next(data)
            }, 1000)
        }
        function geGoods() {
            setTimeout(() => {
                let data = '商品数据'
                iterator.next(data)
            }, 1000)
        }

        function* gen() {
            let users = yield getUsers()
            console.log(users);
            let orders = yield getOrders()
            console.log(orders);
            let goods = yield geGoods()
            console.log(goods);
        }

        // // 调用生成器函数
        let iterator = gen()
        iterator.next()
```

