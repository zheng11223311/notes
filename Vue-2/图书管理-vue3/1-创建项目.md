### 1.创建项目

**项目接口地址**

[注册--ShowDoc](https://www.showdoc.com.cn/1207745568269674/6090123481636428)

**卸载vue2 脚手架**

```
npm uninstall -g vue-cli
```

**全局安装vue3 脚手架**

```
npm install -g @vue/cli
如果不成功,使用强制安装,或者卸载脚手架2.从新安装
npm install -g @vue/cli --force   //强制安装
```

**创建ewshop 项目**

```
vue create ewshop		//vue3 执行命令
```

**提示**

```
Your connection to the default npm registry seems to be slow.
Use https://registry.npm.taobao.org for faster installation?
   你连接默认的npm 似乎比较慢,是否使用淘宝镜像的npm,加快安装? --> ×
   
Vue CLI v4.5.15
? Please pick a preset:	请选择操作
  Default ([Vue 2] babel, eslint)	使用vue2 和 解析运行ES6代码 和语法检查
  Default (Vue 3) ([Vue 3] babel, eslint)	使用vue3 和 解析运行ES6代码 和语法检查
> Manually select features	手动配置√

? Check the features needed for your project: (Press <space> to select, <a> to toggle all, <i> to invert selection)
选择你需要的配置(按空格 选择/取消单个,按 a 全选/反选 按 i 全选/反选)
>(*) Choose Vue version		选择vue 版本√
 (*) Babel		解析运行ES6代码 √
 ( ) TypeScript	 TP脚本×
 ( ) Progressive Web App (PWA) Support	支持移动端×
 (*) Router		路由√
 (*) Vuex		vuex 共享仓库 √
 (*) CSS Pre-processors  css 预处理√
 ( ) Linter / Formatter		语法限制(严格控制语法) ×
 ( ) Unit Testing	单元测试×
 ( ) E2E Testing    End to End 黑盒测试×
 
 ? Choose a version of Vue.js that you want to start the project with
 选择一个你想要的vue 版本开始制作你的项目
  2.x
> 3.x	vue3 版本√

? Use history mode for router? (Requires proper server setup for index fallback in production) (Y/n)
对路由使用历史模式?  √

? Pick a CSS pre-processor (PostCSS, Autoprefixer and CSS Modules are supported by default): (Use arrow keys)
选择一个css 预处理器
> Sass/SCSS (with dart-sass)	√
  Sass/SCSS (with node-sass)
  Less
  Stylus

? Where do you prefer placing config for Babel, ESLint, etc.? (Use arrow keys)
你在哪喜欢放置配置
> In dedicated config files	在专用配置文件中
  In package.json		记录到package.json 文件 √

Save this as a preset for future projects? (y/N)
保存这个项目的配置便于下次直接使用这个配置?  √

Save preset as:ewshop  保存项目配置名为:ewshop	

一切ok,开始运行项目
```

```
cd ewshop   切换到项目文件
npm run serve 运行项目
```

在根目录下(ewshop) 下新建一个vue.config.js 配置文件

```js
//修改配置文件后必须重启项目
module.exports={
    configureWebpack:{
        //打包的配置文件
        resolve:{
            //起别名
            alias:{
                'assets':'@/assets',
                'components':'@/components',
                'network':'@/network',  //网络
                'utils':'@/utils',  //第三方工具
                'views':'@/views',
            }
        }
    },
    //当前ewshop 下生成打包好的dist 文件夹
    publicPath:'./' 
}
```

别名只有在script 中有效,其他需要在路径前面加~ 启用别名

**安装axios**

```
npm i axios -S    -S运行时依赖
```

**安装下拉加载列表插件**

```
npm i better-scroll -S
```

**安装vant 组件库**

```
npm i vant@next -S
```

安装babel-plugin-import 编译时将import 的写法自动转化为按需引入  -D  开发时依赖

```
npm i babel-plugin-import -D
```

修改babel.config.js 配置文件

```js
module.exports = {
  presets: [
    '@vue/cli-plugin-babel/preset'
  ],
  //以下新增信息
  "plugins": [
    [
      "import",
      {
        "libraryName": "vant",
        "libraryDirectory": "es",
        "style": true
      }
    ]
  ]
}

```

**引入vant 默认省市区数据**

```
npm i @vant/area-data
```

**导入省市区**

```js
import { areaList } from '@vant/area-data';
```



### 2.项目上线

**1.打包项目**

```
npm run build
```



将打包生成的 dist 文件放至服务器根目录下

访问 服务器域名(没有域名,使用ip)/dist 即可

域名/dist

ip/dist

如果需要访问 域名/ewshop 需要将

vue.config.js 设置为 publicPath:'/ewshop' 

```js
//修改配置文件后必须重启项目
module.exports={
    configureWebpack:{
        //打包的配置文件
        resolve:{
            //起别名
            alias:{
                'assets':'@/assets',
                'components':'@/components',
                'network':'@/network',  //网络
                'utils':'@/utils',  //第三方工具
                'views':'@/views',
            }
        }
    },
    //当前ewshop 下生成打包好的dist 文件夹
    //打包后访问的地址为网站根目录下的ewshop 文件夹
    publicPath:'/ewshop' 
}
```

----------------------------------完结--------------------------------------------------------

课外教程

本地运行项目

直接丢到apache 下www(即根目录) 的目录下

访问localhost/dist 即可

-------------------------完结-------------------------------------------------

如果需要修改localhost 为自定义域名

需要

在 C://Window/System32/drivers/etc/hosts

修改hosts 文件

在self-use 下增加 120.0.0.1  vue3.ewshop.com(自己随便定义的域名)

![Snipaste_2021-11-09_00-22-31](D:\学习\wanye\Vue-2\图书管理-vue3\img\Snipaste_2021-11-09_00-22-31.png)

打开cmd ,输入Ping vue3.ewshop.com  测试是否可以正常使用

如果由数据返回就是正常



修改apache 文件

在wampserver 中apache 中的httpd-vhosts.conf

修改httpd-vhosts.conf![Snipaste_2021-11-09_00-27-47](D:\学习\wanye\Vue-2\图书管理-vue3\img\Snipaste_2021-11-09_00-27-47.png)

复制一份<VirtualHost *:80>.....</VirtualHost> 修改配置画圈的部分,路径为自己dist 所在的路径

![Snipaste_2021-11-09_00-29-10](D:\学习\wanye\Vue-2\图书管理-vue3\img\Snipaste_2021-11-09_00-29-10.png)

修改了apache 的配置文件,需要重启apache

输入vue3.ewshop.com 即可访问

------------------------------------------------------再一次完结-------------------------------------
